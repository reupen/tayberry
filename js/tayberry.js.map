{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/colour.js","src/easing.js","src/rect.js","src/tayberry.axes.js","src/tayberry.base.js","src/tayberry.core.js","src/tayberry.defaults.js","src/tayberry.drawing.js","src/tayberry.events.js","src/tayberry.js","src/tayberry.sizing.js","src/utils.js"],"names":[],"mappings":"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","file":"tayberry.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var Utils = require('./utils.js');\r\nclass Colour {\r\n    /**\r\n     * Constructs a Colour object.\r\n     *\r\n     * @param colourCode    an HTML colour code in hex or integer (rgb) form\r\n     */\r\n    constructor() {\r\n        if (arguments.length === 1) {\r\n            let arg1 = arguments[0];\r\n            if (typeof arg1 === 'string')\r\n                this.parseString(arg1);\r\n            else {\r\n                this.r = arg1.r;\r\n                this.g = arg1.g;\r\n                this.b = arg1.b;\r\n                this.a = arg1.a;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Parses an HTML colour code\r\n     * @param str\r\n     * @returns {Colour}\r\n     */\r\n    parseString(str) {\r\n        let regExHex = /^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})|^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;\r\n        let regExInt = /^rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})(\\s*,\\s*([0-9]*\\.?[0-9]+)\\s*)?\\)$/i;\r\n        const groupsHex = regExHex.exec(str);\r\n        const groupsInt = regExInt.exec(str);\r\n        if (groupsHex) {\r\n            let parseHex = function (value) {\r\n                let ret = parseInt(value, 16);\r\n                ret = ret * 0x10 + ret;\r\n                return ret;\r\n            };\r\n            this.r = groupsHex[1] ? parseInt(groupsHex[1], 16) : parseHex(groupsHex[4]);\r\n            this.g = groupsHex[2] ? parseInt(groupsHex[2], 16) : parseHex(groupsHex[5]);\r\n            this.b = groupsHex[3] ? parseInt(groupsHex[3], 16) : parseHex(groupsHex[6]);\r\n            this.a = null;\r\n        }\r\n        else if (groupsInt) {\r\n            this.r = parseInt(groupsInt[1]);\r\n            this.g = parseInt(groupsInt[2]);\r\n            this.b = parseInt(groupsInt[3]);\r\n            this.a = groupsInt[5] ? parseFloat(groupsInt[5]) : null;\r\n        } else {\r\n            throw new RangeError(str + \" is not a valid HTML colour\");\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Clips a colour component to be in the range [0, 255], and round it them to\r\n     * the nearest integer\r\n     * @param component\r\n     * @returns {Colour}\r\n     */\r\n    clipComponent(component) {\r\n        this[component] = Math.round(this[component]);\r\n        this[component] = Math.min(this[component], 255);\r\n        this[component] = Math.max(this[component], 0);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Clips r,g,b colour components to be in the range [0, 255], and rounds them to\r\n     * the nearest integer\r\n     * @returns {Colour}\r\n     */\r\n    clip() {\r\n        this.clipComponent('r');\r\n        this.clipComponent('g');\r\n        this.clipComponent('b');\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds a number to each colour component\r\n     * @param number\r\n     * @returns {Colour}\r\n     */\r\n    increaseBy(number) {\r\n        this.r += number;\r\n        this.g += number;\r\n        this.b += number;\r\n        this.clip();\r\n        return this;\r\n    }\r\n\r\n    get sum() {\r\n        return this.r + this.g + this.b;\r\n    }\r\n\r\n    /**\r\n     * Formats this colour as a string\r\n     * @returns {String}\r\n     */\r\n    toString() {\r\n        var ret;\r\n        if (this.a) {\r\n            ret = Utils.formatString('rgba({r},{g},{b},{a})', this);\r\n        } else {\r\n            ret = Utils.formatString('rgb({r},{g},{b})', this);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n}\r\n\r\nexports.Colour = Colour;","exports.linear = function (time, duration) {\r\n    return (time / duration);\r\n};\r\n\r\nexports.linear = function (time, duration) {\r\n    return (time / duration);\r\n};\r\n\r\nexports.inQuad = function (time, duration) {\r\n    var factor = time / duration;\r\n    return factor * factor;\r\n};\r\n\r\nexports.outQuad = function (time, duration) {\r\n    var factor = time / duration;\r\n    return factor * (2 - factor);\r\n};\r\n","class Rect {\r\n    constructor() {\r\n        var rect;\r\n        if (arguments.length === 1) {\r\n            rect = arguments[0];\r\n            this.left = rect.left;\r\n            this.top = rect.top;\r\n            this.right = rect.right;\r\n            this.bottom = rect.bottom;\r\n        } else if (arguments.length === 4) {\r\n            this.left = arguments[0];\r\n            this.top = arguments[1];\r\n            this.right = arguments[2];\r\n            this.bottom = arguments[3];\r\n        }\r\n    }\r\n\r\n    get width() {\r\n        return this.right - this.left;\r\n    }\r\n\r\n    get height() {\r\n        return this.bottom - this.top;\r\n    }\r\n\r\n    get maxY() {\r\n        return Math.max(this.bottom, this.top);\r\n    }\r\n\r\n    get minY() {\r\n        return Math.min(this.bottom, this.top);\r\n    }\r\n\r\n    get minX() {\r\n        return Math.min(this.left, this.right);\r\n    }\r\n\r\n    get maxX() {\r\n        return Math.max(this.left, this.right);\r\n    }\r\n\r\n    containsPoint(x, y) {\r\n        return this.containsX(x) && this.containsY(y);\r\n    }\r\n\r\n    containsY(y) {\r\n        return (y >= this.top && y < this.bottom) || (y >= this.bottom && y < this.top);\r\n    }\r\n\r\n    containsX(x) {\r\n        return (x >= this.left && x < this.right) || (x >= this.right && x < this.left);\r\n    }\r\n\r\n    clip(clipRect) {\r\n        //FIXME: In theory, we should be more careful about how we handle rects where right < left or bottom < top\r\n        if (this.left < clipRect.minX) this.left = clipRect.minX;\r\n        else if (this.left > clipRect.maxX) this.left = clipRect.maxX;\r\n\r\n        if (this.right < clipRect.minX) this.right = clipRect.minX;\r\n        else if (this.right > clipRect.maxX) this.right = clipRect.maxX;\r\n\r\n        if (this.top < clipRect.minY)\r\n            this.top = clipRect.minY;\r\n        else if (this.top > clipRect.maxY)\r\n            this.top = clipRect.maxY;\r\n\r\n        if (this.bottom > clipRect.maxY)\r\n            this.bottom = clipRect.maxY;\r\n        else if (this.bottom < clipRect.minY)\r\n            this.bottom = clipRect.minY;\r\n\r\n        return this;\r\n    }\r\n\r\n    clone() {\r\n        return new Rect(this);\r\n    }\r\n\r\n    swapXY() {\r\n        [this.left, this.top] = [this.top, this.left];\r\n        [this.bottom, this.right] = [this.right, this.bottom];\r\n        return this;\r\n    }\r\n}\r\n\r\nexports.Rect = Rect;","'use strict';\r\nvar Utils = require('./utils.js');\r\n\r\nclass Axis {\r\n    static create(tayberry, options, index, axisType, xYSwapped) {\r\n        if (xYSwapped) {\r\n            axisType = axisType === 'y' ? 'x' : 'y';\r\n        }\r\n        if (options.type === 'linear')\r\n            return new LinearAxis(tayberry, index, options, axisType);\r\n        else\r\n            return new CategorialAxis(tayberry, index, options, axisType);\r\n    }\r\n\r\n    constructor(tayberry, index, options, axisType) {\r\n        this.tayberry = tayberry;\r\n        this.options = options;\r\n        this.axisType = axisType;\r\n        this.index = index;\r\n        this.tickStep = null;\r\n        this.min = null;\r\n        this.max = null;\r\n        this.tickStart = null;\r\n        this.tickEnd = null;\r\n        this.calculatedSize = 0;\r\n        this.topAdjustment = 0;\r\n        this.rightAdjustment = 0;\r\n        this.titleFont = null;\r\n        this.labelFont = null;\r\n        this.numLabelLines = 1;\r\n\r\n        this.setPlacement();\r\n    }\r\n\r\n    updateFonts() {\r\n        this.labelFont = this.tayberry.createFontString(this.options.font);\r\n        this.titleFont = this.tayberry.createFontString(this.options.title.font);\r\n    }\r\n\r\n    setPlacement() {\r\n        const validAndSpecificPlacements = ['left', 'right', 'top', 'bottom', 'start', 'end'];\r\n        if (validAndSpecificPlacements.indexOf(this.options.placement) === -1) {\r\n            this.options.placement = this.isYAxis ^ (this.index > 0) ? 'start' : 'end';\r\n        }\r\n    }\r\n\r\n    get isPlacedAtStart() {\r\n        return this.options.placement === \"left\" || this.options.placement === \"bottom\" || this.options.placement === \"start\";\r\n    }\r\n\r\n    get isYAxis() {\r\n        return this.axisType === 'y';\r\n    }\r\n\r\n    maxLabelSize() {\r\n        let tb = this.tayberry;\r\n        let ticks = this.getTicks();\r\n        return Utils.reduce(ticks, Math.max, x => tb.getTextWidth(this.options.labelFormatter(x.value), this.labelFont));\r\n    }\r\n\r\n    mapLogicalXOrYUnit(x) {\r\n        return this.isYAxis ? this.tayberry.mapLogicalXUnit(x) : this.tayberry.mapLogicalYUnit(x);\r\n    }\r\n\r\n    mapLogicalYOrXUnit(x) {\r\n        return !this.isYAxis ? this.tayberry.mapLogicalXUnit(x) : this.tayberry.mapLogicalYUnit(x);\r\n    }\r\n\r\n    adjustSize(plotArea, fixedOnly, reset) {\r\n        let size = 0,\r\n            tb = this.tayberry,\r\n            ret;\r\n\r\n        const titleFontHeight = tb.getFontHeight(this.options.title.font);\r\n        const fontHeight = tb.getFontHeight(this.options.font);\r\n\r\n        if (reset) {\r\n            this.calculatedSize = 0;\r\n            this.topAdjustment = 0;\r\n            this.rightAdjustment = 0;\r\n            this.numLabelLines = 1;\r\n        }\r\n\r\n        size += this.mapLogicalXOrYUnit(tb.options.elementSmallPadding);\r\n        if (this.options.title.text) {\r\n            size += this.mapLogicalXOrYUnit(tb.options.elementSmallPadding) + titleFontHeight;\r\n        }\r\n\r\n        if (!fixedOnly) {\r\n            let ticks = this.getTicks(false);\r\n            if (this.isYAxis) {\r\n                if (ticks.length) {\r\n                    const lastTick = ticks[ticks.length - 1];\r\n                    const lastTickYStart = lastTick.y - fontHeight / 2;\r\n                    if (lastTickYStart < plotArea.top - this.topAdjustment) {\r\n                        const adjustment = plotArea.top - lastTickYStart - this.topAdjustment + 1;\r\n                        plotArea.top += adjustment;\r\n                        this.topAdjustment += adjustment;\r\n                    }\r\n                }\r\n                size += this.maxLabelSize()\r\n            } else {\r\n                {\r\n                    let lastXEnd;\r\n                    for (let i = 0; i < ticks.length; i++) {\r\n                        let tick = ticks[i];\r\n                        const textWidth = tb.getTextWidth(this.options.labelFormatter(tick.value), this.labelFont);\r\n                        const xStart = tick.x - textWidth / 2;\r\n                        const xEnd = tick.x + textWidth / 2;\r\n                        if (typeof lastXEnd !== 'undefined' && xStart <= lastXEnd + 1) {\r\n                            this.numLabelLines = 2;\r\n                            break;\r\n                        }\r\n                        lastXEnd = xEnd;\r\n                    }\r\n                }\r\n                if (ticks.length) {\r\n                    const lastTick = ticks[ticks.length - 1];\r\n                    const textWidth = tb.getTextWidth(this.options.labelFormatter(lastTick.value), this.labelFont);\r\n                    const lastTickXEnd = lastTick.x + textWidth / 2;\r\n                    if (lastTickXEnd >= plotArea.right + this.rightAdjustment) {\r\n                        const adjustment = lastTickXEnd - plotArea.right - this.rightAdjustment + 1;\r\n                        plotArea.right -= adjustment;\r\n                        this.rightAdjustment += adjustment;\r\n                    }\r\n                }\r\n                size += fontHeight * this.numLabelLines;\r\n            }\r\n        }\r\n\r\n        if (this.isPlacedAtStart) {\r\n            if (this.isYAxis) {\r\n                plotArea.left += size - this.calculatedSize;\r\n            } else {\r\n                plotArea.top += size - this.calculatedSize;\r\n            }\r\n        } else {\r\n            size *= -1;\r\n            if (this.isYAxis) {\r\n                plotArea.right += size - this.calculatedSize;\r\n            } else {\r\n                plotArea.bottom += size - this.calculatedSize;\r\n            }\r\n        }\r\n\r\n        ret = this.calculatedSize !== size;\r\n        this.calculatedSize = size;\r\n\r\n        return ret;\r\n    }\r\n\r\n    calculateExtent() {\r\n    }\r\n\r\n    getCategoryLabel() {\r\n    }\r\n\r\n    draw() {\r\n        this.drawTicksAndLabels();\r\n        this.drawTitle();\r\n    }\r\n\r\n    drawTicksAndLabels() {\r\n        let tb = this.tayberry;\r\n        const labelPaddingX = this.isYAxis ? this.mapLogicalXOrYUnit(tb.options.elementSmallPadding) * (this.isPlacedAtStart ? -1 : 1) : 0;\r\n        const labelPaddingY = !this.isYAxis ? this.mapLogicalXOrYUnit(tb.options.elementSmallPadding) * (this.isPlacedAtStart ? -1 : 1) : 0;\r\n        const fontHeight = tb.getFontHeight(this.options.font);\r\n\r\n        tb.labelsCtx.save();\r\n        tb.labelsCtx.font = this.labelFont;\r\n        tb.labelsCtx.fillStyle = this.options.font.colour;\r\n        tb.labelsCtx.textAlign = this.isYAxis ? (this.isPlacedAtStart ? 'right' : 'left') : 'center';\r\n        tb.labelsCtx.textBaseline = this.isYAxis ? 'middle' : this.isPlacedAtStart ? 'bottom' : 'top';\r\n\r\n        let lastXEnds = [], tickIndex = 0;\r\n\r\n        this.enumerateTicks(function (tick) {\r\n            let textWidth, xStart, xEnd;\r\n            const formattedValue = this.options.labelFormatter(tick.value);\r\n            const row = tickIndex % this.numLabelLines;\r\n            const rowOffset = this.isYAxis ? 0 : fontHeight * row;\r\n            if (!this.isYAxis) {\r\n                textWidth = tb.getTextWidth(formattedValue, this.labelFont);\r\n                xStart = tick.x - textWidth / 2;\r\n                xEnd = tick.x + textWidth / 2;\r\n            }\r\n\r\n            if (this.isYAxis || (typeof lastXEnds[row] === 'undefined' || xStart > lastXEnds[row] + 1) && xStart >= 0 && xEnd < tb.labelsCanvas.width) {\r\n                tb.labelsCtx.fillText(formattedValue, tick.x + labelPaddingX, tick.y + labelPaddingY + rowOffset);\r\n                lastXEnds[row] = xEnd;\r\n            }\r\n            if (this.options.gridLines.colour)\r\n                tb.drawLine(tick.x1, tick.y1, tick.x2, tick.y2, this.options.gridLines.colour);\r\n            tickIndex++;\r\n        }.bind(this));\r\n\r\n        tb.labelsCtx.restore();\r\n    }\r\n\r\n    get startProperty() {\r\n        if (this.isYAxis)\r\n            return this.isPlacedAtStart ? 'left' : 'right';\r\n        else\r\n            return this.isPlacedAtStart ? 'top' : 'bottom';\r\n    }\r\n\r\n    get endProperty() {\r\n        if (this.isYAxis)\r\n            return !this.isPlacedAtStart ? 'left' : 'right';\r\n        else\r\n            return !this.isPlacedAtStart ? 'top' : 'bottom';\r\n    }\r\n\r\n    drawTitle() {\r\n        if (this.options.title.text) {\r\n            let tb = this.tayberry;\r\n            tb.labelsCtx.save();\r\n            tb.labelsCtx.font = this.titleFont;\r\n            tb.labelsCtx.fillStyle = this.options.title.font.colour;\r\n            tb.labelsCtx.textAlign = 'center';\r\n            tb.labelsCtx.textBaseline = !this.isPlacedAtStart ? 'bottom' : 'top';\r\n\r\n            if (this.isYAxis) {\r\n                const x = 0;\r\n                const y = tb.plotArea.top + (tb.plotArea.height) / 2;\r\n                tb.labelsCtx.translate(x, y);\r\n                tb.labelsCtx.rotate(-Math.PI / 2);\r\n                tb.labelsCtx.fillText(this.options.title.text, 0, 0);\r\n            } else {\r\n                const x = tb.plotArea.left + tb.plotArea.width / 2;\r\n                const y = tb.plotArea[this.startProperty] - this.calculatedSize;\r\n                //tb.mapLogicalYOrXUnit(tb.options.font.size * 2 + tb.options.elementSmallPadding + tb.options.elementLargePadding)\r\n                tb.labelsCtx.fillText(this.options.title.text, x, y);\r\n            }\r\n            tb.labelsCtx.restore();\r\n        }\r\n    }\r\n\r\n    getTicks(visibleOnly = true) {\r\n        let ret = [];\r\n        this.enumerateTicks(function (tick) {\r\n            ret.push(tick)\r\n        }, visibleOnly);\r\n        return ret;\r\n    }\r\n\r\n    getOrigin() {\r\n    }\r\n\r\n    updateFormatter() {\r\n    }\r\n}\r\n\r\nclass CategorialAxis extends Axis {\r\n    enumerateTicks(callback) {\r\n        let tb = this.tayberry;\r\n\r\n        const categoryCount = this.options.categories.length;\r\n        let plotArea = tb.plotArea.clone();\r\n        if (this.isYAxis)\r\n            plotArea.swapXY();\r\n        const categoryWidth = (plotArea.width / tb.series[0].data.length);\r\n        let factor = 0.5;\r\n\r\n        if (!this.isYAxis) {\r\n            switch (this.options.labelPosition) {\r\n                case 'left':\r\n                    factor = 0;\r\n                    break;\r\n                case 'right':\r\n                    factor = 1;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < categoryCount; i++) {\r\n            const value = this.options.categories[i];\r\n            let y1 = (this.isPlacedAtStart ? plotArea.top : plotArea.bottom);\r\n            let y2 = (!this.isPlacedAtStart ? plotArea.top : plotArea.bottom);\r\n            let x1 = plotArea.left + Math.floor(i * categoryWidth);\r\n            let x2 = x1;\r\n            let x = plotArea.left + Math.floor(i * categoryWidth + categoryWidth * factor);\r\n            let y = y1;\r\n            if (this.isYAxis)\r\n                [x1, y1, x2, y2, x, y] = [y1, x1, y2, x2, y, x];\r\n\r\n            callback({\r\n                value: value,\r\n                x1: x1,\r\n                y1: y1,\r\n                x2: x2,\r\n                y2: y2,\r\n                x: x,\r\n                y: y\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    updateFormatter() {\r\n        if (!this.options.labelFormatter) {\r\n            this.options.labelFormatter = Utils.identity;\r\n        }\r\n    }\r\n\r\n    getCategoryLabel(index) {\r\n        return this.options.labelFormatter(this.options.categories[index]);\r\n    }\r\n}\r\n\r\nclass LinearAxis extends Axis {\r\n    updateFormatter() {\r\n        if (!this.options.labelFormatter) {\r\n            if (this.options.labelFormat === 'percentage') {\r\n                this.options.labelFormatter = Utils.createPercentageFormatter(this.max - this.min, this.options.labelPrefix, this.options.labelSuffix);\r\n            }\r\n            else if (this.options.labelFormat === 'currency') {\r\n                this.options.labelFormatter = Utils.createFixedNumberFormatter(this.max - this.min, this.options.labelPrefix || this.options.currencySymbol, this.options.labelSuffix);\r\n            }\r\n            else {\r\n                this.options.labelFormatter = Utils.createAutoNumberFormatter(this.max - this.min, this.options.labelPrefix, this.options.labelSuffix);\r\n            }\r\n        }\r\n    }\r\n\r\n    enumerateTicks(callback) {\r\n        let tb = this.tayberry;\r\n\r\n        const start = this.startProperty,\r\n            end = this.endProperty;\r\n\r\n        for (let yValue = this.tickStart; yValue <= this.tickEnd && this.tickStep;) {\r\n            let y = this.getValueDisplacement(yValue);\r\n            if (this.isYAxis) {\r\n                if (callback({\r\n                        value: yValue,\r\n                        x1: tb.plotArea[start],\r\n                        y1: y,\r\n                        x2: tb.plotArea[end],\r\n                        y2: y,\r\n                        x: tb.plotArea[start],\r\n                        y: y\r\n\r\n                    }))\r\n                    break;\r\n            } else {\r\n                if (callback({\r\n                        value: yValue,\r\n                        y1: tb.plotArea[start],\r\n                        x1: y,\r\n                        y2: tb.plotArea[end],\r\n                        x2: y,\r\n                        y: tb.plotArea[start],\r\n                        x: y\r\n                    }))\r\n                    break;\r\n            }\r\n            yValue = this.tickStart + Math.round((yValue + this.tickStep - this.tickStart) / this.tickStep) * this.tickStep;\r\n        }\r\n    }\r\n\r\n    static snapScaledValue(scaledStep) {\r\n        if (scaledStep < 1)\r\n            scaledStep = 1;\r\n        else if (scaledStep < 2)\r\n            scaledStep = 2;\r\n        else if (scaledStep < 2.5)\r\n            scaledStep = 2.5;\r\n        else if (scaledStep < 5)\r\n            scaledStep = 5;\r\n        else\r\n            scaledStep = 10;\r\n        return scaledStep;\r\n    }\r\n\r\n    calculateExtent() {\r\n        let targetTicks, approxStep, scale;\r\n\r\n        let targetStart = this.options.min;\r\n        let targetEnd = this.options.max;\r\n        const overriddenStart = !Utils.isMissingValue(targetStart);\r\n        const overriddenEnd = !Utils.isMissingValue(targetEnd);\r\n\r\n        if (!overriddenStart || !overriddenEnd) {\r\n            const [dataMin, dataMax] = this.tayberry.getDataMinMax(); //TODO: implement for x-axis\r\n            const dataRange = dataMax - dataMin;\r\n            if (!overriddenStart) {\r\n                targetStart = dataMin - dataRange * 0.1;\r\n                if (dataMin >= 0 && targetStart < 0)\r\n                    targetStart = 0;\r\n            }\r\n            if (!overriddenEnd) {\r\n                targetEnd = dataMax + dataRange * 0.1;\r\n                if (dataMax <= 0 && targetStart > 0)\r\n                    targetEnd = 0;\r\n            }\r\n        }\r\n\r\n        if (this.options.tickStepValue) {\r\n            this.tickStep = this.options.tickStepValue;\r\n            this.min = targetStart;\r\n            this.max = targetEnd;\r\n        } else {\r\n            const targetRange = targetEnd - targetStart;\r\n            targetTicks = this.plotLength / this.mapLogicalYOrXUnit(this.options.tickStep);\r\n            approxStep = targetRange / targetTicks;\r\n            scale = Math.pow(10, Math.floor(Math.log(approxStep) / Math.log(10)));\r\n            let scaledStep = LinearAxis.snapScaledValue(Math.ceil(approxStep / scale));\r\n            this.tickStep = scaledStep * scale;\r\n            this.min = targetStart;\r\n            this.max = targetEnd;\r\n        }\r\n        this.tickStart = this.options.tickStepValue && overriddenStart ? this.min : Math.floor(this.min / this.tickStep) * this.tickStep;\r\n        this.tickEnd = this.options.tickStepValue && overriddenEnd ? this.max : Math.ceil(this.max / this.tickStep) * this.tickStep;\r\n        if (!overriddenStart)\r\n            this.min = this.tickStart;\r\n        if (!overriddenEnd)\r\n            this.max = this.tickEnd;\r\n    }\r\n\r\n    get plotDisplacement() {\r\n        return this.isYAxis ? (this.tayberry.plotArea.height - 1) : -(this.tayberry.plotArea.width - 1);\r\n    }\r\n\r\n    get plotLength() {\r\n        return Math.abs(this.plotDisplacement);\r\n    }\r\n\r\n    getOrigin() {\r\n        let ret = this.tayberry.plotArea[this.isYAxis ? 'bottom' : 'left'] - (0 - this.min) * this.plotDisplacement / (this.max - this.min);\r\n        if (this.isYAxis) ret--;\r\n        ret = this.isYAxis ? Math.floor(ret) : Math.ceil(ret);\r\n        return ret;\r\n    }\r\n\r\n    getValueDisplacement(value) {\r\n        let ret = this.getOrigin() - value * this.plotDisplacement / (this.max - this.min);\r\n        ret = this.isYAxis ? Math.floor(ret) : Math.ceil(ret);\r\n        return ret;\r\n    }\r\n\r\n    getCategoryLabel(index, totalCategories) {\r\n        const start = index / totalCategories;\r\n        const end = (index + 1) / totalCategories;\r\n        const axisRange = this.max - this.min;\r\n        return Utils.formatString('{0} \\u2264 x < {1}', [this.options.labelFormatter(this.min + start * axisRange), this.options.labelFormatter(this.min + end * axisRange)]);\r\n    }\r\n}\r\n\r\nexports.Axis = Axis;","class Tayberry {\r\n    constructor() {\r\n        this.selectedItem = {};\r\n        this.containerElement = null;\r\n        this.labelsCanvas = null;\r\n        this.labelsCtx = null;\r\n        this.renderedSeries = null;\r\n        this.options = null;\r\n        this.scaleFactor = null;\r\n        this.titleFont = null;\r\n        this.plotArea = null;\r\n        this.series = [];\r\n        this.categories = [];\r\n        this.titleFont = null;\r\n        this.labelFont = null;\r\n        this.legendFont = null;\r\n    }\r\n\r\n    get seriesCount() {\r\n        return this.series.length;\r\n    }\r\n\r\n    get categoryCount() {\r\n        return this.series.length ? this.series[0].data.length : 0;\r\n    }\r\n}\r\n\r\nexports.Tayberry = Tayberry;\r\n\r\n\r\n","'use strict';\r\nvar Colour = require('./colour').Colour;\r\nvar Utils = require('./utils');\r\n\r\nvar Tayberry = require('./tayberry.base').Tayberry;\r\nvar Axis = require('./tayberry.axes').Axis;\r\n\r\nvar currentAutoColourIndex = 0;\r\n\r\nTayberry.getAutoColour = function () {\r\n    let ret = Tayberry.defaultColours[currentAutoColourIndex % Tayberry.defaultColours.length];\r\n    currentAutoColourIndex++;\r\n    return ret;\r\n};\r\n\r\nTayberry.prototype.createCanvas = function () {\r\n    let ret = document.createElement('canvas');\r\n    // IE11 hack-fix - clientWidth sometimes incorrect on first access\r\n    ret.style.width = Math.floor(this.containerElement.clientWidth) + 'px';\r\n    ret.style.width = Math.floor(this.containerElement.clientWidth) + 'px';\r\n    ret.style.height = Math.floor(this.containerElement.clientHeight) + 'px';\r\n    ret.style.position = 'absolute';\r\n    this.containerElement.appendChild(ret);\r\n    return ret;\r\n};\r\n\r\nTayberry.prototype.create = function (containerElement) {\r\n    if (typeof containerElement == 'string') {\r\n        this.containerElement = document.getElementById(containerElement);\r\n    } else {\r\n        this.containerElement = containerElement;\r\n    }\r\n    this.labelsCanvas = this.createCanvas();\r\n    this.labelsCtx = this.labelsCanvas.getContext('2d');\r\n    this.plotCanvas = this.createCanvas();\r\n    this.plotCtx = this.plotCanvas.getContext('2d');\r\n    this.renderedSeries = null;\r\n    this.options = {};\r\n    this.yAxis = null;\r\n    this.xAxis = null;\r\n    this.initialise();\r\n};\r\n\r\nTayberry.prototype.destroy = function () {\r\n    this.labelsCanvas.parentNode.removeChild(this.labelsCanvas);\r\n    this.tooltipElement.parentNode.removeChild(this.tooltipElement);\r\n    this.options = {};\r\n    this.series = {};\r\n    this.plotCanvas.removeEventListener('mousemove', this.onMouseMoveReal);\r\n    this.plotCanvas.removeEventListener('mouseleave', this.onMouseLeaveReal);\r\n    // this.plotCanvas.removeEventListener('touchstart', this.onTouchStartReal);\r\n    window.removeEventListener('resize', this.onWindowResizeReal);\r\n};\r\n\r\nTayberry.prototype.initialise = function () {\r\n    this.scaleFactor = window.devicePixelRatio || 1.0;\r\n    this.labelsCanvas.width = Math.round(this.labelsCanvas.clientWidth * this.scaleFactor);\r\n    this.labelsCanvas.height = Math.round(this.labelsCanvas.clientHeight * this.scaleFactor);\r\n    this.plotCanvas.width = this.labelsCanvas.width;\r\n    this.plotCanvas.height = this.labelsCanvas.height;\r\n    this.scaleFactorX = this.labelsCanvas.width / this.labelsCanvas.clientWidth;\r\n    this.scaleFactorY = this.labelsCanvas.height / this.labelsCanvas.clientHeight;\r\n    this.selectedItem = {};\r\n    this.plotArea = null;\r\n};\r\n\r\nTayberry.prototype.getFontHeight = function (font, forDom) {\r\n    let ret = font.size;\r\n    if (font.autoScale)\r\n        ret *= Math.pow(this.labelsCanvas.width / 800, 0.25);\r\n    if (!forDom) ret = this.mapLogicalYUnit(ret);\r\n    return ret;\r\n};\r\n\r\nTayberry.prototype.createFontString = function (font, forDom) {\r\n    return (font.style ? font.style + ' ' : '') + this.getFontHeight(font, forDom).toFixed(1) + 'px ' + font.face;\r\n};\r\n\r\nTayberry.prototype.updateFonts = function () {\r\n    //this.labelsCtx.font = this.createFontString(this.options.font);\r\n    this.titleFont = this.createFontString(this.options.title.font);\r\n    this.labelFont = this.createFontString(this.options.labels.font);\r\n    this.legendFont = this.createFontString(this.options.legend.font);\r\n    this.yAxis.updateFonts();\r\n    this.xAxis.updateFonts();\r\n};\r\n\r\nTayberry.prototype.setOptions = function (options) {\r\n    let optionOverrides = [this.defaultOptions()];\r\n    if (options.presets) {\r\n        for (let index = 0; index < options.presets.length; index++) {\r\n            optionOverrides.push(Tayberry.presets[options.presets[index]]);\r\n        }\r\n    }\r\n    optionOverrides.push(options);\r\n    this.options = Utils.deepAssign({}, optionOverrides);\r\n    this.options.title.font = Utils.deepAssign({}, [this.options.font, this.options.title.font]);\r\n    this.options.tooltips.font = Utils.deepAssign({}, [this.options.font, this.options.tooltips.font]);\r\n    this.options.labels.font = Utils.deepAssign({}, [this.options.font, this.options.labels.font]);\r\n    this.options.legend.font = Utils.deepAssign({}, [this.options.font, this.options.legend.font]);\r\n    this.options.yAxis.title.font = Utils.deepAssign({}, [this.options.font, this.options.allAxes.title.font, this.options.yAxis.title.font]);\r\n    this.options.xAxis.title.font = Utils.deepAssign({}, [this.options.font, this.options.allAxes.title.font, this.options.xAxis.title.font]);\r\n    this.options.xAxis.font = Utils.deepAssign({}, [this.options.font, this.options.allAxes.font, this.options.xAxis.font]);\r\n    this.options.yAxis.font = Utils.deepAssign({}, [this.options.font, this.options.allAxes.font, this.options.yAxis.font]);\r\n    this.setSeries(options.series);\r\n    //this.setCategories(options.xAxis.categories);\r\n\r\n    this.yAxis = Axis.create(this, this.options.yAxis, 0, 'y', this.options.swapAxes);\r\n    this.xAxis = Axis.create(this, this.options.xAxis, 0, 'x', this.options.swapAxes);\r\n    this.updateFonts();\r\n    this.plotCanvas.addEventListener('mousemove', this.onMouseMoveReal = this.onMouseMove.bind(this));\r\n    this.plotCanvas.addEventListener('mouseleave', this.onMouseLeaveReal = this.onMouseLeave.bind(this));\r\n    //this.plotCanvas.addEventListener('touchstart', this.onTouchStartReal = this.onTouchStart.bind(this));\r\n    window.addEventListener('resize', this.onWindowResizeReal = Utils.throttle(this.onWindowResize, 50).bind(this));\r\n};\r\n\r\nTayberry.calculateHighlightColour = function (colour) {\r\n    let newColour = new Colour(colour);\r\n    return newColour.increaseBy(30 * (newColour.sum >= 180 * 3 ? -1 : 1)).toString();\r\n};\r\n\r\nTayberry.prototype.setSeries = function (series) {\r\n    var i;\r\n    if (!Array.isArray(series)) {\r\n        this.series = [series];\r\n    } else {\r\n        this.series = series;\r\n    }\r\n    this.renderedSeries = series.slice(0);\r\n    for (i = 0; i < this.renderedSeries.length; i++) {\r\n        let actualSeries = this.series[i];\r\n        actualSeries.colour = actualSeries.colour || Tayberry.getAutoColour();\r\n        actualSeries.highlightColour = actualSeries.highlightColour || Tayberry.calculateHighlightColour(actualSeries.colour);\r\n        let elem = Utils.assign({}, actualSeries);\r\n        elem.data = this.renderedSeries[i].data.slice(0);\r\n        this.renderedSeries[i] = elem;\r\n    }\r\n};\r\n\r\n\r\nTayberry.prototype.getDataMinMax = function () {\r\n    var categoryIndex, seriesIndex, min, max;\r\n    let seriesPositiveTotals = [];\r\n    let seriesNegativeTotals = [];\r\n    const seriesMinima = [];\r\n    const seriesMaxima = [];\r\n    if (this.series[0].data.length) {\r\n        for (categoryIndex = 0; categoryIndex < this.series[0].data.length; categoryIndex++) {\r\n            seriesPositiveTotals[categoryIndex] = 0;\r\n            seriesNegativeTotals[categoryIndex] = 0;\r\n            for (seriesIndex = 0; seriesIndex < this.series.length; seriesIndex++) {\r\n                const value = this.series[seriesIndex].data[categoryIndex];\r\n                if (!Utils.isMissingValue(value)) {\r\n                    if (value < 0) {\r\n                        seriesNegativeTotals[categoryIndex] += value;\r\n                    } else {\r\n                        seriesPositiveTotals[categoryIndex] += value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let index = 0; index < this.series.length; index++) {\r\n            const series = this.series[index];\r\n            seriesMinima.push(Utils.reduce(series.data, Math.min, undefined, true));\r\n            seriesMaxima.push(Utils.reduce(series.data, Math.max, undefined, true));\r\n        }\r\n        if (this.options.barMode === 'stacked') {\r\n            min = Math.min(0, Utils.reduce(seriesNegativeTotals, Math.min, undefined, true));\r\n            max = Math.max(Utils.reduce(seriesPositiveTotals, Math.max, undefined, true), 0);\r\n        } else {\r\n            min = Utils.reduce(seriesMinima, Math.min, undefined, true);\r\n            max = Utils.reduce(seriesMaxima, Math.max, undefined, true);\r\n        }\r\n    }\r\n    return [min, max];\r\n};\r\n\r\n\r\nTayberry.prototype.createTooltip = function () {\r\n    if (this.tooltipElement) {\r\n        this.tooltipElement.parentNode.removeChild(this.tooltipElement);\r\n        this.tooltipElement = null;\r\n    }\r\n    this.tooltipElement = document.createElement('div');\r\n    this.tooltipElement.className = 'tayberry-tooltip';\r\n    this.tooltipElement.style.position = 'absolute';\r\n    this.tooltipElement.style.left = '0px';\r\n    this.tooltipElement.style.top = '0px';\r\n    this.tooltipElement.style.zIndex = '99999';\r\n    this.tooltipElement.style.font = this.createFontString(this.options.tooltips.font, true);\r\n    this.tooltipElement.style.borderRadius = '3px';\r\n    this.tooltipElement.style.backgroundColor = 'white';\r\n    this.tooltipElement.style.border = '2px solid #bbb';\r\n    this.tooltipElement.style.padding = '0.15em 0.4em';\r\n    this.tooltipElement.style.display = 'none';\r\n    this.tooltipElement.innerHTML = '';\r\n    document.body.appendChild(this.tooltipElement);\r\n    this.tooltipElement.addEventListener('mousemove', this.onMouseMove.bind(this));\r\n    this.tooltipElement.addEventListener('mouseleave', this.onMouseLeave.bind(this));\r\n};\r\n","'use strict';\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.defaultOptions = function () {\r\n    return {\r\n        title: {\r\n            text: '',\r\n            font: {\r\n                size: 20\r\n            }\r\n        },\r\n        font: {\r\n            colour: '#444',\r\n            size: 12,\r\n            face: 'sans-serif',\r\n            style: '',\r\n            autoScale: true\r\n        },\r\n        allAxes: {\r\n            font: {},\r\n            title: {\r\n                font: {}\r\n            }\r\n        },\r\n        xAxis: {\r\n            title: {\r\n                text: '',\r\n                font: {}\r\n            },\r\n            type: 'categorial',\r\n            min: null,\r\n            max: null,\r\n            tickStep: 40,\r\n            tickStepValue: null,\r\n            font: {},\r\n            categories: [],\r\n            labelPosition: 'middle', //left|middle|right\r\n            placement: 'auto',\r\n            gridLines: {}\r\n        },\r\n        yAxis: {\r\n            title: {\r\n                text: '',\r\n                font: {}\r\n            },\r\n            gridLines: {\r\n                colour: '#ccc'\r\n            },\r\n            min: undefined,\r\n            max: undefined,\r\n            tickStep: 40,\r\n            tickStepValue: null,\r\n            font: {},\r\n            labelFormat: 'number', //[number|percentage|currency],\r\n            labelFormatter: undefined,\r\n            labelPrefix: undefined,\r\n            labelSuffix: undefined,\r\n            currencySymbol: '£',\r\n            placement: 'auto',\r\n            type: 'linear'\r\n        },\r\n        animations: {\r\n            enabled: true\r\n        },\r\n        series: [],\r\n        swapAxes: false,\r\n        barMode: 'normal', //[normal|stacked|overlaid]\r\n        barPadding: 2,\r\n        elementSmallPadding: 5,\r\n        elementLargePadding: 10,\r\n        categorySpacing: 0.3,\r\n        presets: [],\r\n        tooltips: {\r\n            shared: false,\r\n            headerTemplate: '<strong>{category}</strong><table>',\r\n            valueTemplate: '<tr><td style=\"padding-right: 0.5em\"><span style=\"color: {colour}\">\\u25CF</span> {name}</td><td style=\"text-align: right\">{value}</td></tr>',\r\n            footerTemplate: '</table>',\r\n            font: {}\r\n        },\r\n        legend: {\r\n            enabled: true,\r\n            indicatorSize: 15,\r\n            font: {}\r\n        },\r\n        labels: {\r\n            enabled: false,\r\n            verticalAlignment: 'top',\r\n            verticalPosition: 'outside',\r\n            font: {}\r\n        }\r\n    }\r\n};\r\n\r\nTayberry.presets = {\r\n    histogram: {\r\n        xAxis: {\r\n            labelPosition: 'left'\r\n        },\r\n        barMode: 'overlaid',\r\n        categorySpacing: 0,\r\n        barPadding: 1\r\n    }\r\n};\r\n\r\nTayberry.defaultColours = [\r\n    '#6FE87B', //green\r\n    '#FFAB51', //orange\r\n    '#51A8FF', //blue\r\n    '#B651FF', //purple\r\n    '#FF6051', //red\r\n    '#636363', //dark grey\r\n    '#FFE314', //yellow\r\n    '#A88572', //brown\r\n    '#B7B7B7' //light grey\r\n];\r\n","'use strict';\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.getTextWidth = function (text, fontString) {\r\n    let ret;\r\n    if (fontString) {\r\n        this.labelsCtx.save();\r\n        this.labelsCtx.font = fontString;\r\n    }\r\n    ret = this.labelsCtx.measureText(text).width;\r\n    if (fontString) {\r\n        this.labelsCtx.restore();\r\n    }\r\n    return ret;\r\n};\r\n\r\nTayberry.prototype.getMultilineTextHeight = function (fontString, maxWidth, text) {\r\n    let ret;\r\n    if (fontString) {\r\n        this.labelsCtx.save();\r\n        this.labelsCtx.font = fontString;\r\n    }\r\n    ret = this.splitMultilineText(maxWidth, text).length;\r\n    if (fontString) {\r\n        this.labelsCtx.restore();\r\n    }\r\n    return ret;\r\n};\r\n\r\n\r\nTayberry.prototype.splitMultilineText = function (maxWidth, text) {\r\n    let lines = [];\r\n    let lineWidth = 0;\r\n    let lineText = '';\r\n    const spaceWidth = this.labelsCtx.measureText(' ').width;\r\n    for (let i = 0; i < text.length;) {\r\n        const wordStart = i;\r\n        while (i < text.length && text[i] !== ' ' && text[i] !== '\\r' && text[i] !== '\\n') i++;\r\n        const wordEnd = i;\r\n        while (i < text.length && (text[i] === ' ' || text[i] === '\\r' || text[i] === '\\n')) i++;\r\n        if (wordEnd > wordStart) {\r\n            const word = text.substring(wordStart, wordEnd);\r\n            const wordWidth = this.labelsCtx.measureText(word).width;\r\n            if (lineWidth + wordWidth > maxWidth) {\r\n                if (!lineWidth) {\r\n                    lineText = word;\r\n                }\r\n                lines.push(lineText);\r\n                if (lineWidth) {\r\n                    lineWidth = 0;\r\n                    lineText = word;\r\n                }\r\n            } else {\r\n                lineText += (lineText ? ' ' : '') + word;\r\n                lineWidth += wordWidth + spaceWidth;\r\n            }\r\n        }\r\n    }\r\n    if (lineText) {\r\n        lines.push(lineText);\r\n    }\r\n    return lines;\r\n};\r\n\r\nTayberry.prototype.drawTextMultiline = function (lineHeight, x, y, maxWidth, text) {\r\n    let lines = this.splitMultilineText(maxWidth, text);\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n        let line = lines[i];\r\n        this.labelsCtx.fillText(line, x, y + lineHeight * i);\r\n    }\r\n};\r\n\r\nTayberry.prototype.render = function () {\r\n    this.calculatePlotArea();\r\n    this.drawTitle();\r\n    this.xAxis.draw();\r\n    this.yAxis.draw();\r\n    this.drawLegend();\r\n    this.createTooltip();\r\n    if (this.options.animations.enabled) {\r\n        this.animator = requestAnimationFrame(this.onAnimate.bind(this));\r\n        this.animatationStart = performance.now();\r\n        this.animationLength = 500;\r\n    } else {\r\n        this.draw();\r\n    }\r\n};\r\n\r\nTayberry.prototype.clear = function (plot = true, labels = true) {\r\n    if (plot) this.plotCtx.clearRect(0, 0, this.plotCanvas.width, this.plotCanvas.height);\r\n    if (labels) this.labelsCtx.clearRect(0, 0, this.labelsCanvas.width, this.labelsCanvas.height);\r\n};\r\n\r\nTayberry.prototype.drawTitle = function () {\r\n    if (this.options.title.text) {\r\n        const x = (this.labelsCanvas.width) / 2, y = 0;\r\n        this.labelsCtx.save();\r\n        this.labelsCtx.textAlign = 'center';\r\n        this.labelsCtx.textBaseline = 'top';\r\n        this.labelsCtx.font = this.titleFont;\r\n        this.labelsCtx.fillStyle = this.options.title.font.colour;\r\n        this.drawTextMultiline(this.getFontHeight(this.options.title.font), x, y, this.labelsCanvas.width, this.options.title.text);\r\n        // this.labelsCtx.fillText(this.options.title.text, x, y);\r\n        this.labelsCtx.restore();\r\n    }\r\n};\r\n\r\nTayberry.prototype.drawLabel = function (sign, text, rect) {\r\n    if (this.options.swapAxes)\r\n        rect = rect.clone().swapXY();\r\n    let x = (rect.left + rect.right) / 2;\r\n    let y;\r\n    if (this.options.labels.verticalAlignment === 'top')\r\n        y = rect.top;\r\n    else if (this.options.labels.verticalAlignment === 'bottom')\r\n        y = rect.bottom;\r\n    else\r\n        y = (rect.top + rect.bottom) / 2;\r\n    let baseline = 'middle';\r\n    let align = 'center';\r\n    if (this.options.swapAxes) {\r\n        [x, y] = [y, x];\r\n        if (this.options.labels.verticalPosition === 'outside')\r\n            align = 'left';\r\n        else if (this.options.labels.verticalPosition === 'inside')\r\n            align = 'right';\r\n    } else {\r\n        baseline = Tayberry.mapVerticalPosition(sign, this.options.labels.verticalPosition);\r\n    }\r\n    if (this.plotArea.containsPoint(x, y)) {\r\n        this.plotCtx.save();\r\n        this.plotCtx.textAlign = align;\r\n        this.plotCtx.textBaseline = baseline;\r\n        this.plotCtx.fillText(text, x, y);\r\n        this.plotCtx.restore();\r\n    }\r\n};\r\n\r\n\r\nTayberry.prototype.draw = function () {\r\n\r\n    this.plotCtx.save();\r\n    this.enumerateBars(function (bar) {\r\n        this.plotCtx.fillStyle = bar.selected ? bar.renderedSeries.highlightColour : bar.renderedSeries.colour;\r\n        this.plotCtx.fillRect(bar.rect.left, bar.rect.top, bar.rect.width, bar.rect.height);\r\n    }.bind(this));\r\n    this.plotCtx.restore();\r\n\r\n    if (this.options.labels.enabled) {\r\n        this.plotCtx.save();\r\n        this.enumerateBars(function (bar) {\r\n            this.plotCtx.font = this.labelFont;\r\n            this.plotCtx.fillStyle = this.options.labels.font.colour;\r\n            this.drawLabel(bar.value, this.options.yAxis.labelFormatter(bar.value), bar.rect);\r\n        }.bind(this));\r\n        this.plotCtx.restore();\r\n    }\r\n};\r\n\r\nTayberry.prototype.drawLine = function (x1, y1, x2, y2, colour) {\r\n    this.labelsCtx.save();\r\n    if (colour) {\r\n        this.labelsCtx.strokeStyle = colour;\r\n    }\r\n    this.labelsCtx.beginPath();\r\n    this.labelsCtx.moveTo(x1 + 0.5, y1 + 0.5);\r\n    this.labelsCtx.lineTo(x2 + 0.5, y2 + 0.5);\r\n    this.labelsCtx.stroke();\r\n    this.labelsCtx.restore();\r\n};\r\n\r\nTayberry.prototype.redraw = function (plotOnly) {\r\n    this.clear(true, !plotOnly);\r\n    if (!plotOnly) {\r\n        this.drawTitle();\r\n        this.xAxis.draw();\r\n        this.yAxis.draw();\r\n        this.drawLegend();\r\n    }\r\n    this.draw();\r\n};\r\n\r\n\r\nTayberry.prototype.drawLegend = function () {\r\n    if (this.options.legend.enabled) {\r\n        this.labelsCtx.save();\r\n        this.labelsCtx.font = this.legendFont;\r\n        let totalWidth = 0;\r\n        const indicatorSize = this.mapLogicalXUnit(this.options.legend.indicatorSize);\r\n        for (let index = 0; index < this.series.length; index++) {\r\n            const series = this.series[index];\r\n            if (series.name) {\r\n                totalWidth += this.getTextWidth(series.name, this.legendFont) + indicatorSize + this.mapLogicalXUnit(this.options.elementSmallPadding + this.options.elementLargePadding);\r\n            }\r\n        }\r\n        let x = this.plotArea.left + this.plotArea.width / 2 - totalWidth / 2,\r\n            y = this.labelsCanvas.height - indicatorSize;\r\n\r\n        for (let index = 0; index < this.renderedSeries.length; index++) {\r\n            const series = this.renderedSeries[index];\r\n            if (series.name) {\r\n                this.labelsCtx.fillStyle = series.colour;\r\n                this.labelsCtx.fillRect(x, y, indicatorSize, indicatorSize);\r\n                this.labelsCtx.textBaseline = 'middle';\r\n                this.labelsCtx.fillStyle = this.options.legend.font.colour;\r\n                x += indicatorSize + this.mapLogicalXUnit(this.options.elementSmallPadding);\r\n                this.labelsCtx.fillText(series.name, x, y + indicatorSize / 2);\r\n                x += this.getTextWidth(series.name, this.legendFont) + this.mapLogicalXUnit(this.options.elementLargePadding);\r\n            }\r\n        }\r\n        this.labelsCtx.restore();\r\n    }\r\n};\r\n","'use strict';\r\nvar Rect = require('./rect').Rect;\r\nvar Easing = require('./easing.js');\r\nvar Utils = require('./utils.js');\r\n\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.onAnimate = function (timestamp) {\r\n    var elapsed, scaleFactor;\r\n    elapsed = timestamp - this.animatationStart;\r\n    scaleFactor = Math.min(Easing.inQuad(elapsed, this.animationLength), 1);\r\n    for (let categoryIndex = 0; categoryIndex < this.series[0].data.length; categoryIndex++) {\r\n        for (let seriesIndex = 0; seriesIndex < this.series.length; seriesIndex++) {\r\n            const value = this.series[seriesIndex].data[categoryIndex];\r\n            const yOrigin = this.yAxis.min <= 0 && 0 <= this.yAxis.max ? 0 : (this.yAxis.min > 0 ? this.yAxis.min : this.yAxis.max);\r\n            this.renderedSeries[seriesIndex].data[categoryIndex] = yOrigin + scaleFactor * ((value - yOrigin));\r\n        }\r\n    }\r\n    this.redraw(true);\r\n    if (scaleFactor < 1) {\r\n        this.animator = requestAnimationFrame(this.onAnimate.bind(this));\r\n    }\r\n};\r\n\r\nTayberry.prototype.onMouseLeave = function (event) {\r\n    if ((event.currentTarget == this.plotCanvas && event.relatedTarget !== this.tooltipElement) || (event.currentTarget == this.tooltipElement && event.relatedTarget !== this.plotCanvas)) {\r\n        this.selectedItem = {};\r\n        this.tooltipElement.style.display = 'none';\r\n        this.redraw();\r\n    }\r\n};\r\n\r\nTayberry.prototype.handleMouseMove = function (clientX, clientY) {\r\n    let boundingRect = new Rect(this.plotCanvas.getBoundingClientRect());\r\n    let ret = false;\r\n    if (boundingRect.containsPoint(clientX, clientY)) {\r\n        let x = clientX - boundingRect.left;\r\n        let y = clientY - boundingRect.top;\r\n\r\n        let hitTestResult = this.hitTest(this.mapLogicalXUnit(x), this.mapLogicalYUnit(y));\r\n        if (hitTestResult.found) {\r\n            const aboveZero = hitTestResult.rect.top < hitTestResult.rect.bottom;\r\n            const category = this.xAxis.getCategoryLabel(hitTestResult.categoryIndex, this.series[0].data.length);\r\n            this.tooltipElement.style.display = 'block';\r\n            let tooltipHtml = Utils.formatString(this.options.tooltips.headerTemplate, {category: category}, true);\r\n            if (this.options.tooltips.shared) {\r\n                for (let index = 0; index < this.series.length; index++) {\r\n                    const series = this.series[index];\r\n                    const value = series.data[hitTestResult.categoryIndex];\r\n                    tooltipHtml += Utils.formatString(this.options.tooltips.valueTemplate, {\r\n                        value: this.options.yAxis.labelFormatter(value),\r\n                        name: series.name,\r\n                        colour: series.colour\r\n                    }, true);\r\n                }\r\n            } else {\r\n                const series = this.series[hitTestResult.seriesIndex];\r\n                const value = series.data[hitTestResult.categoryIndex];\r\n                tooltipHtml += Utils.formatString(this.options.tooltips.valueTemplate, {\r\n                    value: this.options.yAxis.labelFormatter(value),\r\n                    name: series.name,\r\n                    colour: series.colour\r\n                }, true);\r\n            }\r\n            tooltipHtml += this.options.tooltips.footerTemplate;\r\n            this.tooltipElement.innerHTML = tooltipHtml;\r\n            let tooltipRect = this.tooltipElement.getBoundingClientRect();\r\n            if (!this.options.tooltips.shared) {\r\n                this.tooltipElement.style.borderColor = this.renderedSeries[hitTestResult.seriesIndex].colour;\r\n            }\r\n            this.tooltipElement.style.left = window.pageXOffset + boundingRect.left + this.mapScreenUnit(hitTestResult.rect.width) / 2 + hitTestResult.rect.left / this.scaleFactor - tooltipRect.width / 2 + 'px';\r\n            this.tooltipElement.style.top = window.pageYOffset + boundingRect.top + this.mapScreenUnit(hitTestResult.rect.top) - tooltipRect.height * (aboveZero ? 1 : 0) - this.options.elementSmallPadding * (aboveZero ? 1 : -1) + 'px';\r\n            this.selectedItem = hitTestResult;\r\n            ret = true;\r\n        }\r\n    }\r\n    return ret;\r\n};\r\n\r\n\r\n//Tayberry.prototype.onTouchStart = function (event) {\r\n//    for (let index = 0; index < event.targetTouches.length; index++) {\r\n//        let touch = event.targetTouches[index];\r\n//        if (this.handleMouseMove(touch.clientX, touch.clientY)) {\r\n//            // event.preventDefault();\r\n//            this.redraw();\r\n//            break;\r\n//        }\r\n//    }\r\n//};\r\n\r\n\r\nTayberry.prototype.onMouseMove = function (event) {\r\n    let oldSelectedItem = Utils.assign({}, this.selectedItem);\r\n    if (!this.handleMouseMove(event.clientX, event.clientY)) {\r\n        this.selectedItem = {};\r\n    }\r\n\r\n    if (oldSelectedItem.categoryIndex !== this.selectedItem.categoryIndex || oldSelectedItem.seriesIndex !== this.selectedItem.seriesIndex) {\r\n        this.redraw();\r\n    }\r\n};\r\n\r\nTayberry.prototype.onWindowResize = function () {\r\n    this.tooltipElement.style.display = 'none';\r\n    this.labelsCanvas.style.width = Math.floor(this.containerElement.clientWidth) + 'px';\r\n    this.labelsCanvas.style.height = Math.floor(this.containerElement.clientHeight) + 'px';\r\n    this.plotCanvas.style.width = Math.floor(this.containerElement.clientWidth) + 'px';\r\n    this.plotCanvas.style.height = Math.floor(this.containerElement.clientHeight) + 'px';\r\n    this.initialise();\r\n    this.updateFonts();\r\n    this.calculatePlotArea();\r\n    this.createTooltip();\r\n    this.redraw();\r\n};\r\n","(function () {\r\n    'use strict';\r\n    var Tayberry = require('./tayberry.base.js').Tayberry;\r\n    require('./tayberry.axes.js');\r\n    require('./tayberry.core.js');\r\n    require('./tayberry.drawing.js');\r\n    require('./tayberry.events.js');\r\n    require('./tayberry.defaults.js');\r\n    require('./tayberry.sizing.js');\r\n\r\n    module.exports = {\r\n        /**\r\n         * Creates a Tayberry chart\r\n         *\r\n         * @param element   ID of container div, or HTMLElement\r\n         * @param options   Options object\r\n         */\r\n        create: function (element, options) {\r\n            var chart = new Tayberry();\r\n            chart.create(element);\r\n            chart.setOptions(options);\r\n            chart.render();\r\n        }\r\n    };\r\n\r\n})();\r\n","'use strict';\r\nvar Rect = require('./rect').Rect;\r\nvar Utils = require('./utils');\r\n\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.mapVerticalPosition = function (sign, position) {\r\n    switch (position) {\r\n        case \"outside\":\r\n            return sign > 0 ? \"bottom\" : \"top\";\r\n        case \"inside\":\r\n            return sign > 0 ? \"top\" : \"bottom\";\r\n        default:\r\n            return \"middle\";\r\n    }\r\n};\r\n\r\nTayberry.prototype.mapLogicalXUnit = function (x) {\r\n    return this.scaleFactorX * x;\r\n};\r\n\r\nTayberry.prototype.mapLogicalYUnit = function (x) {\r\n    return this.scaleFactorY * x;\r\n};\r\n\r\nTayberry.prototype.mapScreenUnit = function (x) {\r\n    return x / this.scaleFactor;\r\n};\r\n\r\nTayberry.prototype.calculatePlotArea = function () {\r\n    const MAX_AXIS_CALC_SIZE_ATTEMPTS = 5;\r\n\r\n    this.plotArea = new Rect(0, 0, this.labelsCanvas.width, this.labelsCanvas.height);\r\n    if (this.options.title.text) {\r\n        this.plotArea.top += this.mapLogicalYUnit(this.options.elementSmallPadding);\r\n        this.plotArea.top += this.getFontHeight(this.options.title.font) * this.getMultilineTextHeight(this.titleFont, this.labelsCanvas.width, this.options.title.text);\r\n    }\r\n    if (this.options.legend.enabled)\r\n        this.plotArea.bottom -= this.mapLogicalYUnit(this.options.elementSmallPadding + this.options.elementLargePadding + this.options.legend.indicatorSize);\r\n\r\n    this.yAxis.adjustSize(this.plotArea, true, true);\r\n    this.xAxis.adjustSize(this.plotArea, true, true);\r\n\r\n    for (let i = 0; i < MAX_AXIS_CALC_SIZE_ATTEMPTS; i++) {\r\n        this.yAxis.calculateExtent();\r\n        this.xAxis.calculateExtent();\r\n        this.yAxis.updateFormatter();\r\n        this.xAxis.updateFormatter();\r\n        if (!this.yAxis.adjustSize(this.plotArea) && !this.xAxis.adjustSize(this.plotArea))\r\n            break;\r\n    }\r\n    this.plotArea.left = Math.ceil(this.plotArea.left);\r\n    this.plotArea.top = Math.ceil(this.plotArea.top);\r\n    this.plotArea.right = Math.floor(this.plotArea.right);\r\n    this.plotArea.bottom = Math.floor(this.plotArea.bottom);\r\n};\r\n\r\nTayberry.prototype.hitTest = function (x, y) {\r\n    // TODO: Optimise\r\n    let ret = {\r\n        found: false,\r\n        categoryIndex: undefined,\r\n        seriesIndex: undefined,\r\n        rect: undefined\r\n    };\r\n\r\n    let matches = [];\r\n\r\n    const isOverlaid = this.options.barMode === 'overlaid';\r\n\r\n    this.enumerateBars(function (bar) {\r\n        if (bar.rect.containsPoint(x, y)) {\r\n            matches.push({\r\n                categoryIndex: bar.categoryIndex,\r\n                seriesIndex: bar.seriesIndex,\r\n                rect: bar.rect\r\n            });\r\n            if (!isOverlaid)\r\n                return true;\r\n        }\r\n    }.bind(this));\r\n\r\n    if (matches.length) {\r\n        ret.found = true;\r\n        let minMatchIndex = 0, minHeight = matches[0].rect.height;\r\n        for (let index = 1; index < matches.length; index++) {\r\n            const match = matches[index];\r\n            if (match.rect.height < minHeight) {\r\n                minMatchIndex = index;\r\n                minHeight = match.rect.height;\r\n            }\r\n        }\r\n        ret = Utils.assign(ret, matches[minMatchIndex]);\r\n    }\r\n    return ret;\r\n};\r\n\r\nTayberry.prototype.enumerateBars = function (callback) {\r\n    const categoryCount = this.renderedSeries[0].data.length;\r\n    if (categoryCount) {\r\n        const isStacked = this.options.barMode === 'stacked';\r\n        const isOverlaid = this.options.barMode === 'overlaid';\r\n        const isHorizontal = this.options.swapAxes;\r\n        let plotArea = this.plotArea.clone();\r\n        if (isHorizontal)\r\n            plotArea.swapXY();\r\n        const isNormal = !isStacked && !isOverlaid;\r\n        const barCount = (isStacked || isOverlaid) ? 1 : this.series.length;\r\n        const categoryWidth = (plotArea.width / categoryCount);\r\n        // const barWidth = (categoryWidth * (1 - this.options.categorySpacing) / barCount);\r\n        const yOrigin = this.yAxis.getOrigin();\r\n\r\n        for (let categoryIndex = 0; categoryIndex < categoryCount; categoryIndex++) {\r\n            let categoryXStart = plotArea.left + Math.floor(categoryIndex * categoryWidth);\r\n            let categoryXEnd = plotArea.left + Math.floor((categoryIndex + 1) * categoryWidth);\r\n            let barXStart = categoryXStart + Math.ceil(categoryWidth * this.options.categorySpacing / 2);\r\n            let barXEnd = categoryXEnd - Math.floor(categoryWidth * this.options.categorySpacing / 2);\r\n\r\n            let yBottomPositive = yOrigin,\r\n                yBottomNegative = yOrigin,\r\n                yRunningTotalPositive = 0,\r\n                yRunningTotalNegative = 0;\r\n            let barIndex = 0;\r\n            for (let seriesIndex = 0; seriesIndex < this.renderedSeries.length; seriesIndex++) {\r\n                const value = this.renderedSeries[seriesIndex].data[categoryIndex];\r\n                const barWidth = Math.floor((barXEnd - barXStart) / barCount);\r\n                const xStart = Math.floor(barXStart + barIndex * barWidth);\r\n                const xEnd = Math.ceil(barXStart + (barIndex + 1) * barWidth);\r\n                if (Utils.isMissingValue(value))\r\n                    continue;\r\n                const yTop = this.yAxis.getValueDisplacement(value + (value > 0 ? yRunningTotalPositive : yRunningTotalNegative));\r\n                let rect = new Rect(xStart, yTop, xEnd, value > 0 ? yBottomPositive : yBottomNegative);\r\n                rect.left += Math.ceil(this.options.barPadding * this.scaleFactor / 2);\r\n                rect.right -= Math.floor(this.options.barPadding * this.scaleFactor / 2);\r\n                if (rect.right < rect.left)\r\n                    rect.right = rect.left;\r\n                if (isHorizontal)\r\n                    rect.swapXY();\r\n                rect.clip(this.plotArea);\r\n\r\n                const stopEnumerating = callback({\r\n                    seriesIndex: seriesIndex,\r\n                    categoryIndex: categoryIndex,\r\n                    series: this.renderedSeries[seriesIndex],\r\n                    renderedSeries: this.renderedSeries[seriesIndex],\r\n                    value: this.series[seriesIndex].data[categoryIndex],\r\n                    renderedValue: this.renderedSeries[seriesIndex].data[categoryIndex],\r\n                    rect: rect,\r\n                    selected: this.selectedItem.categoryIndex === categoryIndex && (this.options.tooltips.shared || this.selectedItem.seriesIndex === seriesIndex)\r\n                });\r\n                if (stopEnumerating)\r\n                    break;\r\n                if (isStacked) {\r\n                    if (value > 0) {\r\n                        yRunningTotalPositive += value;\r\n                        yBottomPositive = yTop;\r\n                    }\r\n                    else {\r\n                        yRunningTotalNegative += value;\r\n                        yBottomNegative = yTop;\r\n                    }\r\n                } else if (isNormal) {\r\n                    // x += barWidth;\r\n                    barIndex++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","(function () {\r\n    \"use strict\";\r\n\r\n    exports.identity = function (obj) {\r\n        return obj;\r\n    };\r\n\r\n    exports.isMissingValue = function (n) {\r\n        return n === null || typeof n === 'undefined' || (isNaN(n) && typeof n === 'number');\r\n    };\r\n\r\n    exports.reduce = function (array, func, getter, ignoreMissing = false) {\r\n        var ret, i;\r\n        if (array.reduce && !getter && !ignoreMissing) {\r\n            ret = array.reduce(function (a, b) {\r\n                return func(a, b);\r\n            });\r\n        } else {\r\n            getter = getter || exports.identity;\r\n            if (array.length) {\r\n                ret = getter(array[0]);\r\n                for (i = 1; i < array.length; i++) {\r\n                    const value = getter(array[i]);\r\n                    if (!ignoreMissing || !exports.isMissingValue(value))\r\n                        ret = func(ret, value);\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    };\r\n\r\n    exports.sign = Math.sign || function (n) {\r\n            return n > 0 ? 1 : (n < 0 ? -1 : 0);\r\n        };\r\n\r\n    exports.now = (typeof performance !== 'undefined' && typeof performance.now !== 'undefined') ? performance.now : function () {\r\n        return new Date().getTime();\r\n    };\r\n\r\n    var innerAssign = function (deepAssign, targetObject, sourceObjects) {\r\n        if (!Array.isArray(sourceObjects))\r\n            sourceObjects = [sourceObjects];\r\n        if (!deepAssign && Object.assign) {\r\n            return Object.assign.apply(Object, [targetObject].concat(sourceObjects));\r\n        } else {\r\n            if (targetObject === undefined || targetObject === null) {\r\n                throw new TypeError('Cannot convert first argument to object');\r\n            }\r\n\r\n            var to = Object(targetObject);\r\n            for (let i = 0; i < sourceObjects.length; i++) {\r\n                let currentSourceObject = sourceObjects[i];\r\n                if (currentSourceObject === undefined || currentSourceObject === null) {\r\n                    continue;\r\n                }\r\n                currentSourceObject = Object(currentSourceObject);\r\n\r\n                const keysArray = Object.keys(currentSourceObject);\r\n                for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n                    const nextKey = keysArray[nextIndex];\r\n                    const nextValue = currentSourceObject[nextKey];\r\n                    const desc = Object.getOwnPropertyDescriptor(currentSourceObject, nextKey);\r\n                    if (desc !== undefined && desc.enumerable) {\r\n                        if (deepAssign && typeof to[nextKey] === \"object\" && !Array.isArray(nextValue) && typeof nextValue === 'object')\r\n                            innerAssign(true, to[nextKey], nextValue);\r\n                        else\r\n                            to[nextKey] = nextValue;\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        }\r\n    };\r\n\r\n    exports.assign = function (targetObject, sourceObjects) {\r\n        return innerAssign(false, targetObject, sourceObjects);\r\n    };\r\n\r\n    exports.deepAssign = function (targetObject, sourceObjects) {\r\n        return innerAssign(true, targetObject, sourceObjects);\r\n    };\r\n\r\n    exports.formatString = function (formatString, formatValues, escapeAsHtml) {\r\n        return formatString.replace(/{(\\w+)}/g, function (match, placeholder) {\r\n            const value = formatValues[placeholder];\r\n            return typeof value !== 'undefined' ? (escapeAsHtml ? exports.stringToHtml(value) : value) : match;\r\n        });\r\n    };\r\n\r\n    exports.locateDecimalPoint = function (number) {\r\n        return Math.floor(Math.log(number) / Math.log(10));\r\n    };\r\n\r\n    exports.formatNumberThousands = function (number, decimalPlaces = 0) {\r\n        var parts = number.toFixed(decimalPlaces).split(\".\");\r\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n        return parts.join(\".\");\r\n    };\r\n\r\n    exports.createAutoNumberFormatter = function (scale, prefix = '', suffix = '', precision = 2) {\r\n        let decimalPlaces = exports.locateDecimalPoint(scale);\r\n        decimalPlaces = decimalPlaces < 0 ? -decimalPlaces + precision - 1 : 0;\r\n        return x => prefix + exports.formatNumberThousands(x, decimalPlaces) + suffix;\r\n    };\r\n\r\n    exports.createFixedNumberFormatter = function (scale, prefix = '', suffix = '', decimalPlaces = 2) {\r\n        return x => prefix + exports.formatNumberThousands(x, decimalPlaces) + suffix;\r\n    };\r\n\r\n    exports.createPercentageFormatter = function (scale, prefix = '', suffix = '%', precision = 2) {\r\n        let decimalPlaces = exports.locateDecimalPoint(scale * 100);\r\n        decimalPlaces = decimalPlaces < 0 ? -decimalPlaces + precision - 1 : 0;\r\n        return x => prefix + exports.formatNumberThousands(x * 100, decimalPlaces) + suffix;\r\n    };\r\n\r\n    exports.stringToHtml = function (str) {\r\n        var div = document.createElement('div');\r\n        div.appendChild(document.createTextNode(str));\r\n        return div.innerHTML;\r\n    };\r\n\r\n    exports.throttle = function (fn, threshold) {\r\n        var last,\r\n            deferTimer;\r\n        return function () {\r\n            var context = this;\r\n\r\n            var now = Date.now(),\r\n                args = arguments;\r\n            if (last && now < last + threshold) {\r\n                clearTimeout(deferTimer);\r\n                deferTimer = setTimeout(function () {\r\n                    last = now;\r\n                    fn.apply(context, args);\r\n                }, threshold);\r\n            } else {\r\n                last = now;\r\n                fn.apply(context, args);\r\n            }\r\n        };\r\n    }\r\n\r\n})();\r\n"]}