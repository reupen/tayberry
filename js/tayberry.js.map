{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/colour.js","src/easing.js","src/rect.js","src/tayberry.axes.js","src/tayberry.base.js","src/tayberry.core.js","src/tayberry.defaults.js","src/tayberry.drawing.js","src/tayberry.events.js","src/tayberry.js","src/tayberry.sizing.js","src/utils.js"],"names":[],"mappings":"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","file":"tayberry.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var Utils = require('./utils.js');\r\nclass Colour {\r\n    /**\r\n     * Constructs a Colour object.\r\n     *\r\n     * @param colourCode    an HTML colour code in hex or integer (rgb) form\r\n     */\r\n    constructor() {\r\n        if (arguments.length === 1) {\r\n            let arg1 = arguments[0];\r\n            if (typeof arg1 === 'string')\r\n                this.parseString(arg1);\r\n            else {\r\n                this.r = arg1.r;\r\n                this.g = arg1.g;\r\n                this.b = arg1.b;\r\n                this.a = arg1.a;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Parses an HTML colour code\r\n     * @param str\r\n     * @returns {Colour}\r\n     */\r\n    parseString (str) {\r\n        let regExHex = /^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})|^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;\r\n        let regExInt = /^rgba?\\((\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})(\\s*,\\s*([0-9]*\\.?[0-9]+))+\\)$/i;\r\n        const groupsHex = regExHex.exec(str);\r\n        const groupsInt = regExInt.exec(str);\r\n        if (groupsHex) {\r\n            let parseHex = function(value) {\r\n                let ret = parseInt(value, 16);\r\n                ret = ret*0x10 + ret;\r\n                return ret;\r\n            };\r\n            this.r = groupsHex[1] ? parseInt(groupsHex[1], 16) : parseHex(groupsHex[4]);\r\n            this.g = groupsHex[2] ? parseInt(groupsHex[2], 16) : parseHex(groupsHex[5]);\r\n            this.b = groupsHex[3] ? parseInt(groupsHex[3], 16) : parseHex(groupsHex[6]);\r\n            this.a = null;\r\n        }\r\n        else if (groupsInt) {\r\n            this.r = parseInt(groupsInt[1]);\r\n            this.g = parseInt(groupsInt[2]);\r\n            this.b = parseInt(groupsInt[3]);\r\n            this.a = groupsInt[5] ? parseFloat(groupsInt[5]) : null;\r\n        } else {\r\n            this.r = null;\r\n            this.g = null;\r\n            this.b = null;\r\n            this.a = null;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Clips a colour component to be in the range [0, 255], and round it them to\r\n     * the nearest integer\r\n     * @param component\r\n     * @returns {Colour}\r\n     */\r\n    clipComponent(component) {\r\n        this[component] = Math.round(this[component]);\r\n        this[component] = Math.min(this[component], 255);\r\n        this[component] = Math.max(this[component], 0);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Clips r,g,b colour components to be in the range [0, 255], and rounds them to\r\n     * the nearest integer\r\n     * @returns {Colour}\r\n     */\r\n    clip () {\r\n        this.clipComponent('r');\r\n        this.clipComponent('g');\r\n        this.clipComponent('b');\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiplies each colour component by a number\r\n     * @param number\r\n     * @returns {Colour}\r\n     */\r\n    multiplyBy (number) {\r\n        this.r *= number;\r\n        this.g *= number;\r\n        this.b *= number;\r\n        this.clip();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds a number to each colour component\r\n     * @param number\r\n     * @returns {Colour}\r\n     */\r\n    increaseBy (number) {\r\n        this.r += number;\r\n        this.g += number;\r\n        this.b += number;\r\n        this.clip();\r\n        return this;\r\n    }\r\n\r\n    get sum() {\r\n        return this.r + this.g + this.b;\r\n    }\r\n\r\n    /**\r\n     * Formats this colour as a string\r\n     * @returns {String}\r\n     */\r\n    toString() {\r\n        var ret;\r\n        if (this.a) {\r\n            ret = Utils.formatString('rgba({r},{g},{b},{a})', this);\r\n        } else {\r\n            ret = Utils.formatString('rgb({r},{g},{b})', this);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * Multiplies each colour component of a colour code by a number\r\n     * @param colour\r\n     * @param number\r\n     * @returns {String}\r\n     */\r\n    static multiplyBy(colour, number) {\r\n        return (new Colour(colour)).multiplyBy(number).toString();\r\n    }\r\n\r\n}\r\n\r\nexports.Colour = Colour;","exports.linear = function (time, duration) {\r\n    return (time / duration);\r\n};\r\n\r\nexports.linear = function (time, duration) {\r\n    return (time / duration);\r\n};\r\n\r\nexports.inQuad = function (time, duration) {\r\n    var factor = time / duration;\r\n    return factor * factor;\r\n};\r\n\r\nexports.outQuad = function (time, duration) {\r\n    var factor = time / duration;\r\n    return factor * (2 - factor);\r\n};\r\n","class Rect {\r\n    constructor() {\r\n        var rect;\r\n        if (arguments.length === 1) {\r\n            rect = arguments[0];\r\n            this.left = rect.left;\r\n            this.top = rect.top;\r\n            this.right = rect.right;\r\n            this.bottom = rect.bottom;\r\n        } else if (arguments.length === 4) {\r\n            this.left = arguments[0];\r\n            this.top = arguments[1];\r\n            this.right = arguments[2];\r\n            this.bottom = arguments[3];\r\n        }\r\n    }\r\n\r\n    get width() {\r\n        return this.right - this.left;\r\n    }\r\n\r\n    get height() {\r\n        return this.bottom - this.top;\r\n    }\r\n\r\n    get maxY() {\r\n        return Math.max(this.bottom, this.top);\r\n    }\r\n\r\n    get minY() {\r\n        return Math.min(this.bottom, this.top);\r\n    }\r\n\r\n    get minX() {\r\n        return Math.min(this.left, this.right);\r\n    }\r\n\r\n    get maxX() {\r\n        return Math.max(this.left, this.right);\r\n    }\r\n\r\n    containsPoint(x, y) {\r\n        return this.containsX(x) && this.containsY(y);\r\n    }\r\n\r\n    containsY(y) {\r\n        return y >= this.minY && y < this.maxY;\r\n    }\r\n\r\n    containsX(x) {\r\n        return x >= this.minX && x < this.maxX;\r\n    }\r\n\r\n    clip(clipRect) {\r\n        if (this.left < clipRect.minX) this.left = clipRect.minX;\r\n        else if (this.left > clipRect.maxX) this.left = clipRect.maxX;\r\n\r\n        if (this.right < clipRect.minX) this.right = clipRect.minX;\r\n        else if (this.right > clipRect.maxX) this.right = clipRect.maxX;\r\n\r\n        if (this.top < clipRect.minY)\r\n            this.top = clipRect.minY;\r\n        else if (this.top > clipRect.maxY)\r\n            this.top = clipRect.maxY;\r\n\r\n        if (this.bottom > clipRect.maxY)\r\n            this.bottom = clipRect.maxY;\r\n        else if (this.bottom < clipRect.minY)\r\n            this.bottom = clipRect.minY;\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\nexports.Rect = Rect;","'use strict';\r\nvar Utils = require('./utils.js');\r\n\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.calculateYAxisExtent = function () {\r\n    var targetTicks, approxStep, scale;\r\n\r\n    let targetYStart = this.options.yAxis.min;\r\n    let targetYEnd = this.options.yAxis.max;\r\n    const overriddenStart = typeof targetYStart !== 'undefined';\r\n    const overriddenEnd = typeof targetYEnd !== 'undefined';\r\n\r\n    if (!overriddenStart || !overriddenEnd) {\r\n        const [dataYMin, dataYMax] = this.calculateYDataMinMax();\r\n        const dataYRange = dataYMax - dataYMin;\r\n        if (!overriddenStart) {\r\n            targetYStart = dataYMin - dataYRange * 0.1;\r\n            if (dataYMin >= 0 && targetYStart < 0)\r\n                targetYStart = 0;\r\n        }\r\n        if (!overriddenEnd) {\r\n            targetYEnd = dataYMax + dataYRange * 0.1;\r\n            if (dataYMax <= 0 && targetYStart > 0)\r\n                targetYEnd = 0;\r\n        }\r\n    }\r\n\r\n    const targetYRange = targetYEnd - targetYStart;\r\n\r\n    targetTicks = this.plotArea.height / this.mapLogicalYUnit(this.options.yAxis.tickStep);\r\n    approxStep = targetYRange / targetTicks;\r\n    scale = Math.pow(10, Math.floor(Math.log(approxStep) / Math.log(10)));\r\n    this.yTickStep = Math.ceil(approxStep / scale) * scale;\r\n    this.yMin = targetYStart;\r\n    this.yMax = targetYEnd;\r\n    if (!overriddenStart)\r\n        this.yMin = Math.floor(this.yMin / scale) * scale;\r\n    if (!overriddenEnd)\r\n        this.yMax = Math.ceil(this.yMax / scale) * scale;\r\n    this.yTickStart = Math.floor(this.yMin / this.yTickStep) * this.yTickStep;\r\n    this.yTickEnd = Math.ceil(this.yMax / this.yTickStep) * this.yTickStep;\r\n};\r\n\r\nTayberry.prototype.drawXAxis = function () {\r\n    var i, barWidth, x, y, lastXEnd;\r\n    const categoryCount = this.categories.length;\r\n    barWidth = Math.floor(this.plotArea.width / this.series[0].data.length);\r\n    this.ctx.save();\r\n    this.ctx.fillStyle = this.options.font.colour;\r\n    this.ctx.textAlign = 'center';\r\n    this.ctx.textBaseline = 'bottom';\r\n    let factor;\r\n    switch (this.options.xAxis.labelPosition) {\r\n        case 'left':\r\n            factor = 0;\r\n            break;\r\n        case 'right':\r\n            factor = 0;\r\n            break;\r\n        default:\r\n            factor = 0.5;\r\n            break;\r\n    }\r\n    for (i = 0; i < categoryCount; i++) {\r\n        x = this.plotArea.left + Math.floor(i * barWidth + barWidth * factor);\r\n        y = this.plotArea.bottom + this.mapLogicalYUnit(this.options.font.size + this.options.elementSmallPadding);\r\n        const textWidth = this.getTextWidth(this.categories[i]);\r\n        const xStart = x - textWidth / 2;\r\n        const xEnd = x + textWidth / 2;\r\n        if (typeof lastXEnd === 'undefined' || xStart > lastXEnd + 1) {\r\n            this.ctx.fillText(this.categories[i], x, y);\r\n            lastXEnd = xEnd;\r\n        }\r\n    }\r\n    x = this.plotArea.left + this.plotArea.width / 2;\r\n    y = this.plotArea.bottom + this.mapLogicalYUnit(this.options.font.size * 2 + this.options.elementSmallPadding + this.options.elementLargePadding);\r\n    this.ctx.fillText(this.options.xAxis.title, x, y);\r\n    this.ctx.restore();\r\n};\r\n\r\nTayberry.prototype.drawYAxis = function () {\r\n    var yValue, x, y;\r\n\r\n    const yOrigin = this.getYOrigin();\r\n    this.ctx.save();\r\n    this.ctx.fillStyle = this.options.font.colour;\r\n    this.ctx.textAlign = 'right';\r\n    this.ctx.textBaseline = 'middle';\r\n\r\n    for (yValue = this.yTickStart; yValue <= this.yTickEnd && this.yTickStep;) {\r\n        yValue = this.yTickStart + Math.round((yValue + this.yTickStep - this.yTickStart) / this.yTickStep) * this.yTickStep;\r\n        x = this.plotArea.left - this.mapLogicalXUnit(this.options.elementSmallPadding);\r\n        const valueHeight = this.getYHeight(yValue);\r\n        y = yOrigin - valueHeight;\r\n        if (this.plotArea.containsY(y)) {\r\n            this.ctx.fillText(this.options.yAxis.labelFormatter(yValue), x, y);\r\n            this.drawLine(this.plotArea.left, y, this.plotArea.right, y, this.options.yAxis.gridLines.colour);\r\n        }\r\n    }\r\n\r\n    x = 0;\r\n    y = this.plotArea.top + this.plotArea.height / 2;\r\n    this.ctx.textAlign = 'center';\r\n    this.ctx.textBaseline = 'top';\r\n    this.ctx.translate(x, y);\r\n    this.ctx.rotate(-Math.PI / 2);\r\n    this.ctx.fillText(this.options.yAxis.title, 0, 0);\r\n    this.ctx.restore();\r\n};\r\n","class Tayberry {\r\n    constructor() {\r\n        this.selectedItem = {};\r\n        this.containerElement = null;\r\n        this.canvas = null;\r\n        this.ctx = null;\r\n        this.renderedSeries = null;\r\n        this.options = null;\r\n        this.scaleFactor = null;\r\n        this.titleFont = null;\r\n        this.plotArea = null;\r\n        this.yTickStep = null;\r\n        this.yTickStart = null;\r\n        this.yTickEnd = null;\r\n        this.yMin = null;\r\n        this.yMax = null;\r\n        this.series = [];\r\n        this.categories = [];\r\n    }\r\n\r\n    get seriesCount() {\r\n        return this.series.length;\r\n    }\r\n\r\n    get categoryCount() {\r\n        return this.series.length ? this.series[0].data.length : 0;\r\n    }\r\n}\r\n\r\nexports.Tayberry = Tayberry;\r\n\r\n\r\n","'use strict';\r\nvar Colour = require('./colour').Colour;\r\nvar Utils = require('./utils.js');\r\n\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.create = function (containerElement) {\r\n    if (typeof containerElement == 'string') {\r\n        this.containerElement = document.getElementById(containerElement);\r\n    } else {\r\n        this.containerElement = containerElement;\r\n    }\r\n    this.canvas = document.createElement('canvas');\r\n    this.canvas.style.width = '100%';\r\n    this.canvas.style.height = '100%';\r\n    this.containerElement.appendChild(this.canvas);\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.renderedSeries = null;\r\n    this.options = {};\r\n    this.initialise();\r\n};\r\n\r\nTayberry.prototype.destroy = function () {\r\n    this.canvas.remove();\r\n    this.tooltipElement.remove();\r\n    this.options = {};\r\n    this.series = {};\r\n    this.canvas.removeEventListener('mousemove', this.onMouseMoveReal);\r\n    this.canvas.removeEventListener('mouseleave', this.onMouseLeaveReal);\r\n    this.canvas.removeEventListener('touchstart', this.onTouchStartReal);\r\n    window.removeEventListener('resize', this.onWindowResizeReal);\r\n};\r\n\r\nTayberry.prototype.initialise = function () {\r\n    this.scaleFactor = window.devicePixelRatio || 1.0;\r\n    this.canvas.width = Math.round(this.containerElement.clientWidth * this.scaleFactor);\r\n    this.canvas.height = Math.round(this.containerElement.clientHeight * this.scaleFactor);\r\n    this.scaleFactorX = this.canvas.width / this.containerElement.clientWidth;\r\n    this.scaleFactorY = this.canvas.height / this.containerElement.clientHeight;\r\n    this.selectedItem = {};\r\n    this.plotArea = null;\r\n};\r\n\r\nTayberry.prototype.updateFonts = function () {\r\n    this.ctx.font = this.mapLogicalYUnit(this.options.font.size) + 'px ' + this.options.font.face;\r\n    this.titleFont = this.mapLogicalYUnit(this.options.title.font.size) + 'px ' + this.options.font.face;\r\n};\r\n\r\nTayberry.prototype.updateYFormatter = function () {\r\n    if (!this.options.yAxis.labelFormatter) {\r\n        if (this.options.yAxis.labelFormat === 'percentage') {\r\n            this.options.yAxis.labelFormatter = Utils.createPercentageFormatter(this.yMax - this.yMin, this.options.yAxis.labelPrefix, this.options.yAxis.labelSuffix);\r\n        }\r\n        else if (this.options.yAxis.labelFormat === 'currency') {\r\n            this.options.yAxis.labelFormatter = Utils.createFixedNumberFormatter(this.yMax - this.yMin, this.options.yAxis.labelPrefix || this.options.yAxis.currencySymbol, this.options.yAxis.labelSuffix);\r\n        }\r\n        else {\r\n            this.options.yAxis.labelFormatter = Utils.createAutoNumberFormatter(this.yMax - this.yMin, this.options.yAxis.labelPrefix, this.options.yAxis.labelSuffix);\r\n        }\r\n    }\r\n};\r\n\r\nTayberry.prototype.setOptions = function (options) {\r\n    let optionOverrides = [this.defaultOptions()];\r\n    if (options.presets) {\r\n        for (let index = 0; index < options.presets.length; index++) {\r\n            optionOverrides.push(Tayberry.presets[options.presets[index]]);\r\n        }\r\n    }\r\n    optionOverrides.push(options);\r\n    this.options = Utils.deepAssign({}, optionOverrides);\r\n    this.setSeries(options.series);\r\n    this.setCategories(options.xAxis.categories);\r\n    this.updateFonts();\r\n    this.canvas.addEventListener('mousemove', this.onMouseMoveReal = this.onMouseMove.bind(this));\r\n    this.canvas.addEventListener('mouseleave', this.onMouseLeaveReal = this.onMouseLeave.bind(this));\r\n    this.canvas.addEventListener('touchstart', this.onTouchStartReal = this.onTouchStart.bind(this));\r\n    window.addEventListener('resize', this.onWindowResizeReal = Utils.throttle(this.onWindowResize, 50).bind(this));\r\n};\r\n\r\nTayberry.calculateHighlightColour = function (colour) {\r\n    let newColour = new Colour(colour);\r\n    return newColour.increaseBy(30 * (newColour.sum >= 180 * 3 ? -1 : 1)).toString();\r\n};\r\n\r\n/**\r\n * Format:\r\n * [{\r\n *   data: {array|object},\r\n *   name: {string}\r\n * },{\r\n *   data: {array|object},\r\n *   name: {string}\r\n * }]\r\n * @param series\r\n */\r\nTayberry.prototype.setSeries = function (series) {\r\n    var i;\r\n    if (!Array.isArray(series)) {\r\n        this.series = [series];\r\n    } else {\r\n        this.series = series;\r\n    }\r\n    this.renderedSeries = series.slice(0);\r\n    for (i = 0; i < this.renderedSeries.length; i++) {\r\n        let actualSeries = this.series[i];\r\n        actualSeries.colour = actualSeries.colour || this.options.defaultPalette[i];\r\n        actualSeries.highlightColour = actualSeries.highlightColour || Tayberry.calculateHighlightColour(actualSeries.colour);\r\n        let elem = Utils.assign({}, actualSeries);\r\n        elem.data = this.renderedSeries[i].data.slice(0);\r\n        this.renderedSeries[i] = elem;\r\n    }\r\n};\r\n\r\n\r\nTayberry.prototype.setCategories = function (categories) {\r\n    this.categories = (categories);\r\n    //if (this.options.xAxis.type === 'numeric' || this.options.xAxis.type === 'numerical') {\r\n    //    this.categories = [];\r\n    //    for (let i = this.options.xAxis.min; i <= this.options.xAxis.max; i += this.options.xAxis.step) {\r\n    //        i = Math.round(i / this.options.xAxis.step) * this.options.xAxis.step;\r\n    //        this.categories.push(i);\r\n    //    }\r\n    //}\r\n};\r\n\r\nTayberry.prototype.calculateYDataMinMax = function () {\r\n    var categoryIndex, seriesIndex, yMin, yMax;\r\n    let seriesPositiveTotals = [];\r\n    let seriesNegativeTotals = [];\r\n    const seriesMinima = [];\r\n    const seriesMaxima = [];\r\n    if (this.series[0].data.length) {\r\n        for (categoryIndex = 0; categoryIndex < this.series[0].data.length; categoryIndex++) {\r\n            seriesPositiveTotals[categoryIndex] = 0;\r\n            seriesNegativeTotals[categoryIndex] = 0;\r\n            for (seriesIndex = 0; seriesIndex < this.series.length; seriesIndex++) {\r\n                const value = this.series[seriesIndex].data[categoryIndex];\r\n                if (!Utils.isMissingValue(value)) {\r\n                    if (value < 0) {\r\n                        seriesNegativeTotals[categoryIndex] += value;\r\n                    } else {\r\n                        seriesPositiveTotals[categoryIndex] += value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let index = 0; index < this.series.length; index++) {\r\n            const series = this.series[index];\r\n            seriesMinima.push(Utils.reduce(series.data, Math.min, undefined, true));\r\n            seriesMaxima.push(Utils.reduce(series.data, Math.max, undefined, true));\r\n        }\r\n        if (this.options.barMode === 'stacked') {\r\n            yMin = Math.min(0, Utils.reduce(seriesNegativeTotals, Math.min, undefined, true));\r\n            yMax = Math.max(Utils.reduce(seriesPositiveTotals, Math.max, undefined, true), 0);\r\n        } else {\r\n            yMin = Utils.reduce(seriesMinima, Math.min, undefined, true);\r\n            yMax = Utils.reduce(seriesMaxima, Math.max, undefined, true);\r\n        }\r\n    }\r\n    return [yMin, yMax];\r\n};\r\n\r\n\r\nTayberry.prototype.createTooltip = function () {\r\n\r\n    this.tooltipElement = document.createElement('div');\r\n    this.tooltipElement.className = 'tayberry-tooltip';\r\n    this.tooltipElement.style.position = 'absolute';\r\n    this.tooltipElement.style.left = '0px';\r\n    this.tooltipElement.style.top = '0px';\r\n    this.tooltipElement.style.zIndex = '99999';\r\n    this.tooltipElement.style.font = this.options.font.size + 'px ' + this.options.font.face;\r\n    this.tooltipElement.style.borderRadius = '3px';\r\n    this.tooltipElement.style.backgroundColor = 'white';\r\n    this.tooltipElement.style.border = '2px solid black';\r\n    this.tooltipElement.style.padding = '0.15em 0.4em';\r\n    this.tooltipElement.style.display = 'none';\r\n    this.tooltipElement.innerHTML = '';\r\n    document.body.appendChild(this.tooltipElement);\r\n    this.tooltipElement.addEventListener('mousemove', this.onMouseMove.bind(this));\r\n    this.tooltipElement.addEventListener('mouseleave', this.onMouseLeave.bind(this));\r\n};\r\n","'use strict';\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.defaultOptions = function () {\r\n    return {\r\n        defaultPalette: [\r\n            '#6FE87B', //green\r\n            '#FFAB51', //orange\r\n            '#51A8FF', //blue\r\n            '#B651FF', //purple\r\n            '#FF6051', //red\r\n            '#636363' //dark grey\r\n        ],\r\n        title: {\r\n            text: '',\r\n            font: {\r\n                size: 20\r\n            }\r\n        },\r\n        font: {\r\n            colour: '#444',\r\n            size: 12,\r\n            face: 'sans-serif'\r\n        },\r\n        xAxis: {\r\n            title: '',\r\n            type: 'category',\r\n            min: 0,\r\n            max: 100,\r\n            step: 1,\r\n            categories: [],\r\n            labelPosition: 'middle' //left|middle|right\r\n        },\r\n        yAxis: {\r\n            title: '',\r\n            gridLines: {\r\n                colour: '#ccc'\r\n            },\r\n            min: undefined,\r\n            max: undefined,\r\n            tickStep: 30,\r\n            labelFormat: 'number', //[number|percentage|currency],\r\n            labelFormatter: undefined,\r\n            labelPrefix: undefined,\r\n            labelSuffix: undefined,\r\n            currencySymbol: ''\r\n        },\r\n        series: [],\r\n        barMode: 'normal', //[normal|stacked|overlaid]\r\n        barPadding: 2,\r\n        elementSmallPadding: 5,\r\n        elementLargePadding: 10,\r\n        categorySpacing: 0.3,\r\n        presets: [],\r\n        tooltips: {\r\n            shared: false,\r\n            headerTemplate: '<strong>{category}</strong><table>',\r\n            valueTemplate: '<tr><td style=\"padding-right: 0.5em\"><span style=\"color: {colour}\">\\u25CF</span> {name}</td><td style=\"text-align: right\">{value}</td></tr>',\r\n            footerTemplate: '</table>'\r\n        },\r\n        legend: {\r\n            enabled: true,\r\n            indicatorSize: 15\r\n        },\r\n        labels: {\r\n            enabled: false,\r\n            verticalAlignment: 'top',\r\n            verticalPosition: 'outside'\r\n        }\r\n    }\r\n};\r\n\r\nTayberry.presets = {\r\n    histogram: {\r\n        xAxis: {\r\n            labelPosition: 'left'\r\n        },\r\n        barMode: 'overlaid',\r\n        categorySpacing: 0,\r\n        barPadding: 1\r\n    }\r\n};\r\n","'use strict';\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.render = function () {\r\n    this.calculatePlotArea();\r\n    this.calculateYAxisExtent();\r\n    this.updateYFormatter();\r\n    this.finalisePlotArea();\r\n    this.animator = requestAnimationFrame(this.onAnimate.bind(this));\r\n    this.animatationStart = performance.now();\r\n    this.animationLength = 500;\r\n    this.drawXAxis();\r\n    this.drawYAxis();\r\n    this.createTooltip();\r\n};\r\n\r\nTayberry.prototype.clear = function () {\r\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n};\r\n\r\nTayberry.prototype.drawTitle = function () {\r\n    if (this.options.title.text) {\r\n        const x = (this.canvas.width) / 2, y = 0;\r\n        this.ctx.save();\r\n        this.ctx.textAlign = 'center';\r\n        this.ctx.textBaseline = 'top';\r\n        this.ctx.font = this.titleFont;\r\n        this.ctx.fillStyle = this.options.font.colour;\r\n        this.ctx.fillText(this.options.title.text, x, y);\r\n        this.ctx.restore();\r\n    }\r\n};\r\n\r\nTayberry.prototype.drawLabel = function (sign, text, rect) {\r\n    const x = (rect.left + rect.right) / 2;\r\n    let y;\r\n    if (this.options.labels.verticalAlignment === 'top')\r\n        y = rect.top;\r\n    else if (this.options.labels.verticalAlignment === 'bottom')\r\n        y = rect.bottom;\r\n    else\r\n        y = (rect.top + rect.bottom) / 2;\r\n    if (this.plotArea.containsPoint(x, y)) {\r\n        this.ctx.save();\r\n        this.ctx.textAlign = 'center';\r\n        this.ctx.textBaseline = Tayberry.mapVerticalPosition(sign, this.options.labels.verticalPosition);\r\n        this.ctx.fillStyle = this.options.font.colour;\r\n        this.ctx.fillText(text, x, y);\r\n        this.ctx.restore();\r\n    }\r\n};\r\n\r\n\r\nTayberry.prototype.draw = function () {\r\n\r\n    this.ctx.save();\r\n    this.enumerateBars(function (bar) {\r\n        this.ctx.fillStyle = bar.selected ? bar.renderedSeries.highlightColour : bar.renderedSeries.colour;\r\n        this.ctx.fillRect(bar.rect.left, bar.rect.top, bar.rect.width, bar.rect.height);\r\n    }.bind(this));\r\n    this.ctx.restore();\r\n\r\n    if (this.options.labels.enabled) {\r\n        this.ctx.save();\r\n        this.enumerateBars(function (bar) {\r\n            this.drawLabel(bar.value, this.options.yAxis.labelFormatter(bar.value), bar.rect);\r\n        }.bind(this));\r\n        this.ctx.restore();\r\n    }\r\n};\r\n\r\nTayberry.prototype.drawLine = function (x1, y1, x2, y2, colour) {\r\n    this.ctx.save();\r\n    if (colour) {\r\n        this.ctx.strokeStyle = colour;\r\n    }\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(x1 + 0.5, y1 + 0.5);\r\n    this.ctx.lineTo(x2 + 0.5, y2 + 0.5);\r\n    this.ctx.stroke();\r\n    this.ctx.restore();\r\n};\r\n\r\nTayberry.prototype.redraw = function () {\r\n    this.clear();\r\n    this.drawTitle();\r\n    this.drawXAxis();\r\n    this.drawYAxis();\r\n    this.drawLegend();\r\n    this.draw();\r\n};\r\n\r\n\r\nTayberry.prototype.drawLegend = function () {\r\n    if (this.options.legend.enabled) {\r\n        let totalWidth = 0;\r\n        const indicatorSize = this.mapLogicalXUnit(this.options.legend.indicatorSize);\r\n        for (let index = 0; index < this.series.length; index++) {\r\n            const series = this.series[index];\r\n            if (series.name) {\r\n                totalWidth += this.getTextWidth(series.name) + indicatorSize + this.mapLogicalXUnit(this.options.elementSmallPadding + this.options.elementLargePadding);\r\n            }\r\n        }\r\n        let x = this.plotArea.left + this.plotArea.width / 2 - totalWidth / 2,\r\n            y = this.canvas.height - indicatorSize;\r\n\r\n        for (let index = 0; index < this.renderedSeries.length; index++) {\r\n            const series = this.renderedSeries[index];\r\n            if (series.name) {\r\n                this.ctx.fillStyle = series.colour;\r\n                this.ctx.fillRect(x, y, indicatorSize, indicatorSize);\r\n                this.ctx.textBaseline = 'middle';\r\n                this.ctx.fillStyle = this.options.font.colour;\r\n                x += indicatorSize + this.mapLogicalXUnit(this.options.elementSmallPadding);\r\n                this.ctx.fillText(series.name, x, y + indicatorSize / 2);\r\n                x += this.getTextWidth(series.name) + this.mapLogicalXUnit(this.options.elementLargePadding);\r\n            }\r\n        }\r\n    }\r\n};\r\n","'use strict';\r\nvar Rect = require('./rect').Rect;\r\nvar Easing = require('./easing.js');\r\nvar Utils = require('./utils.js');\r\n\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.prototype.onAnimate = function (timestamp) {\r\n    var elapsed, scaleFactor;\r\n    elapsed = timestamp - this.animatationStart;\r\n    scaleFactor = Math.min(Easing.inQuad(elapsed, this.animationLength), 1);\r\n    for (let categoryIndex = 0; categoryIndex < this.series[0].data.length; categoryIndex++) {\r\n        for (let seriesIndex = 0; seriesIndex < this.series.length; seriesIndex++) {\r\n            const value = this.series[seriesIndex].data[categoryIndex];\r\n            const yOrigin = this.yMin <= 0 && 0 <= this.yMax ? 0 : (this.yMin > 0 ? this.yMin : this.yMax);\r\n            this.renderedSeries[seriesIndex].data[categoryIndex] = yOrigin + scaleFactor * ((value - yOrigin));\r\n        }\r\n    }\r\n    this.redraw();\r\n    if (scaleFactor < 1) {\r\n        this.animator = requestAnimationFrame(this.onAnimate.bind(this));\r\n    }\r\n};\r\n\r\nTayberry.prototype.onMouseLeave = function (event) {\r\n    if ((event.currentTarget == this.canvas && event.relatedTarget !== this.tooltipElement) || (event.currentTarget == this.tooltipElement && event.relatedTarget !== this.canvas)) {\r\n        this.selectedItem = {};\r\n        this.tooltipElement.style.display = 'none';\r\n        this.redraw();\r\n    }\r\n};\r\n\r\nTayberry.prototype.handleMouseMove = function (clientX, clientY) {\r\n    let boundingRect = new Rect(this.canvas.getBoundingClientRect());\r\n    let ret = false;\r\n    if (boundingRect.containsPoint(clientX, clientY)) {\r\n        let x = clientX - boundingRect.left;\r\n        let y = clientY - boundingRect.top;\r\n\r\n        let hitTestResult = this.hitTest(this.mapLogicalXUnit(x), this.mapLogicalYUnit(y));\r\n        if (hitTestResult.found) {\r\n            const aboveZero = hitTestResult.rect.top < hitTestResult.rect.bottom;\r\n            const category = this.categories[hitTestResult.categoryIndex];\r\n            this.tooltipElement.style.display = 'block';\r\n            let tooltipHtml = Utils.formatString(this.options.tooltips.headerTemplate, {category: category}, true);\r\n            if (this.options.tooltips.shared) {\r\n                for (let index = 0; index<this.series.length; index++) {\r\n                    const series = this.series[index];\r\n                    const value = series.data[hitTestResult.categoryIndex];\r\n                    tooltipHtml += Utils.formatString(this.options.tooltips.valueTemplate, {value: this.options.yAxis.labelFormatter(value), name: series.name, colour: series.colour}, true);\r\n                }\r\n            } else {\r\n                const series = this.series[hitTestResult.seriesIndex];\r\n                const value = series.data[hitTestResult.categoryIndex];\r\n                tooltipHtml += Utils.formatString(this.options.tooltips.valueTemplate, {value: this.options.yAxis.labelFormatter(value), name: series.name, colour: series.colour}, true);\r\n            }\r\n            tooltipHtml += this.options.tooltips.footerTemplate;\r\n            this.tooltipElement.innerHTML = tooltipHtml;\r\n            let tooltipRect = this.tooltipElement.getBoundingClientRect();\r\n            this.tooltipElement.style.borderColor = this.renderedSeries[hitTestResult.seriesIndex].colour;\r\n            this.tooltipElement.style.left = window.pageXOffset + boundingRect.left + this.mapScreenUnit(hitTestResult.rect.width) / 2 + hitTestResult.rect.left / this.scaleFactor - tooltipRect.width / 2 + 'px';\r\n            this.tooltipElement.style.top = window.pageYOffset + boundingRect.top + this.mapScreenUnit(hitTestResult.rect.top) - tooltipRect.height * (aboveZero ? 1 : 0) - this.options.elementSmallPadding * (aboveZero ? 1 : -1) + 'px';\r\n            this.selectedItem = hitTestResult;\r\n            ret = true;\r\n        }\r\n    }\r\n    return ret;\r\n};\r\n\r\nTayberry.prototype.onTouchStart = function (event) {\r\n    for (let index = 0; index < event.targetTouches.length; index++) {\r\n        let touch = event.targetTouches[index];\r\n        if (this.handleMouseMove(touch.clientX, touch.clientY)) {\r\n            event.preventDefault();\r\n            this.redraw();\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\n\r\nTayberry.prototype.onMouseMove = function (event) {\r\n    let oldSelectedItem = Utils.assign({}, this.selectedItem);\r\n    if (!this.handleMouseMove(event.clientX, event.clientY)) {\r\n        this.selectedItem = {};\r\n    }\r\n\r\n    if (oldSelectedItem.categoryIndex !== this.selectedItem.categoryIndex || oldSelectedItem.seriesIndex !== this.selectedItem.seriesIndex) {\r\n        this.redraw();\r\n    }\r\n};\r\n\r\nTayberry.prototype.onWindowResize = function (event) {\r\n    this.tooltipElement.style.display = 'none';\r\n    this.initialise();\r\n    this.updateFonts();\r\n    this.calculatePlotArea();\r\n    this.calculateYAxisExtent();\r\n    this.finalisePlotArea();\r\n    this.redraw();\r\n};\r\n","(function () {\r\n    'use strict';\r\n    var Tayberry = require('./tayberry.base.js').Tayberry;\r\n    require('./tayberry.axes.js');\r\n    require('./tayberry.core.js');\r\n    require('./tayberry.drawing.js');\r\n    require('./tayberry.events.js');\r\n    require('./tayberry.defaults.js');\r\n    require('./tayberry.sizing.js');\r\n\r\n    module.exports = {\r\n        /**\r\n         * Creates a Tayberry chart\r\n         *\r\n         * @param element   ID of container div, or HTMLElement\r\n         * @param options   Options object\r\n         */\r\n        create: function (element, options) {\r\n            var chart = new Tayberry();\r\n            chart.create(element);\r\n            chart.setOptions(options);\r\n            chart.render();\r\n        }\r\n    };\r\n\r\n})();\r\n","'use strict';\r\nvar Rect = require('./rect').Rect;\r\nvar Utils = require('./utils');\r\n\r\nvar Tayberry = require('./tayberry.base.js').Tayberry;\r\n\r\nTayberry.mapVerticalPosition = function (sign, position) {\r\n    switch (position) {\r\n        case \"outside\":\r\n            return sign > 0 ? \"bottom\" : \"top\";\r\n        case \"inside\":\r\n            return sign > 0 ? \"top\" : \"bottom\";\r\n        default:\r\n            return \"middle\";\r\n    }\r\n};\r\n\r\nTayberry.prototype.mapLogicalXUnit = function (x) {\r\n    return this.scaleFactorX * x;\r\n};\r\n\r\nTayberry.prototype.mapLogicalYUnit = function (x) {\r\n    return this.scaleFactorY * x;\r\n};\r\n\r\nTayberry.prototype.mapScreenUnit = function (x) {\r\n    return x / this.scaleFactor;\r\n};\r\n\r\nTayberry.prototype.getTextWidth = function (text) {\r\n    return this.ctx.measureText(text).width;\r\n};\r\n\r\nTayberry.prototype.calculatePlotArea = function () {\r\n    this.plotArea = new Rect(0, 0, this.canvas.width, this.canvas.height);\r\n    if (this.options.title.text) {\r\n        this.plotArea.top += this.mapLogicalYUnit(this.options.elementSmallPadding + this.options.title.font.size);\r\n    }\r\n    if (this.options.yAxis.title) {\r\n        this.plotArea.left += this.mapLogicalXUnit(this.options.elementLargePadding + this.options.font.size);\r\n    }\r\n    if (this.options.xAxis.title) {\r\n        this.plotArea.bottom -= this.mapLogicalYUnit(this.options.elementLargePadding + this.options.font.size);\r\n    }\r\n    this.plotArea.bottom -= this.mapLogicalYUnit(this.options.font.size);\r\n    if (this.options.legend.enabled)\r\n        this.plotArea.bottom -= this.mapLogicalYUnit(this.options.elementSmallPadding + this.options.elementLargePadding + this.options.legend.indicatorSize);\r\n};\r\n\r\nTayberry.prototype.finalisePlotArea = function () {\r\n    this.plotArea.left += Math.max(this.getTextWidth(this.options.yAxis.labelFormatter(this.yTickStart)), this.getTextWidth(this.options.yAxis.labelFormatter(this.yTickEnd))) + this.mapLogicalXUnit(this.options.elementSmallPadding);\r\n    this.plotArea.left = Math.floor(this.plotArea.left);\r\n    this.plotArea.top = Math.floor(this.plotArea.top);\r\n    this.plotArea.right = Math.ceil(this.plotArea.right);\r\n    this.plotArea.bottom = Math.ceil(this.plotArea.bottom);\r\n};\r\n\r\nTayberry.prototype.getYHeight = function (value) {\r\n    return Math.round(value * this.plotArea.height / (this.yMax - this.yMin));\r\n};\r\n\r\nTayberry.prototype.hitTest = function (x, y) {\r\n    // TODO: Optimise\r\n    let ret = {\r\n        found: false,\r\n        categoryIndex: undefined,\r\n        seriesIndex: undefined,\r\n        rect: undefined\r\n    };\r\n\r\n    let matches = [];\r\n\r\n    const isOverlaid = this.options.barMode === 'overlaid';\r\n\r\n    this.enumerateBars(function (bar) {\r\n        if (bar.rect.containsPoint(x, y)) {\r\n            matches.push({\r\n                categoryIndex: bar.categoryIndex,\r\n                seriesIndex: bar.seriesIndex,\r\n                rect: bar.rect\r\n            });\r\n            if (!isOverlaid)\r\n                return true;\r\n        }\r\n    }.bind(this));\r\n\r\n    if (matches.length) {\r\n        ret.found = true;\r\n        let minMatchIndex = 0, minHeight = matches[0].rect.height;\r\n        for (let index = 1; index < matches.length; index++) {\r\n            const match = matches[index];\r\n            if (match.rect.height < minHeight) {\r\n                minMatchIndex = index;\r\n                minHeight = match.rect.height;\r\n            }\r\n        }\r\n        ret = Utils.assign(ret, matches[minMatchIndex]);\r\n    }\r\n    return ret;\r\n};\r\n\r\nTayberry.prototype.getYOrigin = function () {\r\n    return this.plotArea.bottom - this.getYHeight(0 - this.yMin);\r\n};\r\n\r\nTayberry.prototype.enumerateBars = function (callback) {\r\n    const categoryCount = this.renderedSeries[0].data.length;\r\n    if (categoryCount) {\r\n        const isStacked = this.options.barMode === 'stacked';\r\n        const isOverlaid = this.options.barMode === 'overlaid';\r\n        const isNormal = !isStacked && !isOverlaid;\r\n        const barCount = (isStacked || isOverlaid) ? 1 : this.series.length;\r\n        const categoryWidth = Math.floor(this.plotArea.width / categoryCount);\r\n        const barWidth = Math.floor(categoryWidth * (1 - this.options.categorySpacing) / barCount);\r\n        const yOrigin = this.getYOrigin();\r\n\r\n        for (let categoryIndex = 0; categoryIndex < categoryCount; categoryIndex++) {\r\n            let x = this.plotArea.left + Math.floor(categoryIndex * categoryWidth + categoryWidth * this.options.categorySpacing / 2);\r\n            const cx = barWidth;\r\n            let yBottomPositive = yOrigin,\r\n                yBottomNegative = yOrigin,\r\n                yRunningTotalPositive = 0,\r\n                yRunningTotalNegative = 0;\r\n            for (let seriesIndex = 0; seriesIndex < this.renderedSeries.length; seriesIndex++) {\r\n                const value = this.renderedSeries[seriesIndex].data[categoryIndex];\r\n                if (Utils.isMissingValue(value))\r\n                    continue;\r\n                const yTop = yOrigin - this.getYHeight(value + (value > 0 ? yRunningTotalPositive : yRunningTotalNegative));\r\n                let rect = new Rect(x, yTop, x + cx, value > 0 ? yBottomPositive : yBottomNegative);\r\n                rect.left += Math.ceil(this.options.barPadding * this.scaleFactor / 2);\r\n                rect.right -= Math.floor(this.options.barPadding * this.scaleFactor / 2);\r\n                if (rect.right < rect.left)\r\n                    rect.right = rect.left;\r\n                rect.clip(this.plotArea);\r\n\r\n                const stopEnumerating = callback({\r\n                    seriesIndex: seriesIndex,\r\n                    categoryIndex: categoryIndex,\r\n                    series: this.renderedSeries[seriesIndex],\r\n                    renderedSeries: this.renderedSeries[seriesIndex],\r\n                    value: this.series[seriesIndex].data[categoryIndex],\r\n                    renderedValue: this.renderedSeries[seriesIndex].data[categoryIndex],\r\n                    rect: rect,\r\n                    selected: this.selectedItem.categoryIndex === categoryIndex && this.selectedItem.seriesIndex === seriesIndex\r\n                });\r\n                if (stopEnumerating)\r\n                    break;\r\n                if (isStacked) {\r\n                    if (value > 0) {\r\n                        yRunningTotalPositive += value;\r\n                        yBottomPositive = yTop;\r\n                    }\r\n                    else {\r\n                        yRunningTotalNegative += value;\r\n                        yBottomNegative = yTop;\r\n                    }\r\n                } else if (isNormal) {\r\n                    x += barWidth;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","(function () {\r\n    \"use strict\";\r\n\r\n    exports.identity = function (obj) {\r\n        return obj;\r\n    };\r\n\r\n    exports.isMissingValue = function (n) {\r\n        return n === null || typeof n === 'undefined' || (isNaN(n) && typeof n === 'number');\r\n    };\r\n\r\n    exports.reduce = function (array, func, getter, ignoreMissing = false) {\r\n        var ret, i;\r\n        if (array.reduce && !getter && !ignoreMissing) {\r\n            ret = array.reduce(function (a, b) {\r\n                return func(a, b);\r\n            });\r\n        } else {\r\n            getter = getter || exports.identity;\r\n            if (array.length) {\r\n                ret = getter(array[0]);\r\n                for (i = 1; i < array.length; i++) {\r\n                    const value = getter(array[i]);\r\n                    if (!ignoreMissing || !exports.isMissingValue(value))\r\n                        ret = func(ret, value);\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    };\r\n\r\n    exports.sign = Math.sign || function (n) {\r\n            return n > 0 ? 1 : (n < 0 ? -1 : 0);\r\n        };\r\n\r\n    exports.now = (typeof performance !== 'undefined' && typeof performance.now !== 'undefined') ? performance.now : function () {\r\n        return new Date().getTime();\r\n    };\r\n\r\n    var innerAssign = function (deepAssign, targetObject, sourceObjects) {\r\n        if (!Array.isArray(sourceObjects))\r\n            sourceObjects = [sourceObjects];\r\n        if (!deepAssign && Object.assign) {\r\n            return Object.assign.apply(Object, [targetObject].concat(sourceObjects));\r\n        } else {\r\n            if (targetObject === undefined || targetObject === null) {\r\n                throw new TypeError('Cannot convert first argument to object');\r\n            }\r\n\r\n            var to = Object(targetObject);\r\n            for (let i = 0; i < sourceObjects.length; i++) {\r\n                let currentSourceObject = sourceObjects[i];\r\n                if (currentSourceObject === undefined || currentSourceObject === null) {\r\n                    continue;\r\n                }\r\n                currentSourceObject = Object(currentSourceObject);\r\n\r\n                const keysArray = Object.keys(currentSourceObject);\r\n                for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n                    const nextKey = keysArray[nextIndex];\r\n                    const nextValue = currentSourceObject[nextKey];\r\n                    const desc = Object.getOwnPropertyDescriptor(currentSourceObject, nextKey);\r\n                    if (desc !== undefined && desc.enumerable) {\r\n                        if (deepAssign && typeof to[nextKey] === \"object\" && !Array.isArray(nextValue) && typeof nextValue === 'object')\r\n                            innerAssign(true, to[nextKey], nextValue);\r\n                        else\r\n                            to[nextKey] = nextValue;\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        }\r\n    };\r\n\r\n    exports.assign = function (targetObject, sourceObjects) {\r\n        return innerAssign(false, targetObject, sourceObjects);\r\n    };\r\n\r\n    exports.deepAssign = function (targetObject, sourceObjects) {\r\n        return innerAssign(true, targetObject, sourceObjects);\r\n    };\r\n\r\n    exports.formatString = function (formatString, formatValues, escapeAsHtml) {\r\n        return formatString.replace(/{(\\w+)}/g, function (match, placeholder) {\r\n            const value = formatValues[placeholder];\r\n            return typeof value !== 'undefined' ? (escapeAsHtml ? exports.stringToHtml(value) : value) : match;\r\n        });\r\n    };\r\n\r\n    exports.locateDecimalPoint = function (number) {\r\n        return Math.floor(Math.log(number) / Math.log(10));\r\n    };\r\n\r\n    exports.formatNumberThousands = function (number, decimalPlaces = 0) {\r\n        var parts = number.toFixed(decimalPlaces).split(\".\");\r\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n        return parts.join(\".\");\r\n    };\r\n\r\n    exports.createAutoNumberFormatter = function (scale, prefix = '', suffix = '', precision = 2) {\r\n        let decimalPlaces = exports.locateDecimalPoint(scale);\r\n        decimalPlaces = decimalPlaces < 0 ? -decimalPlaces + precision - 1 : 0;\r\n        return x => prefix + exports.formatNumberThousands(x, decimalPlaces) + suffix;\r\n    };\r\n\r\n    exports.createFixedNumberFormatter = function (scale, prefix = '', suffix = '', decimalPlaces = 2) {\r\n        return x => prefix + exports.formatNumberThousands(x, decimalPlaces) + suffix;\r\n    };\r\n\r\n    exports.createPercentageFormatter = function (scale, prefix = '', suffix = '%', precision = 2) {\r\n        let decimalPlaces = exports.locateDecimalPoint(scale * 100);\r\n        decimalPlaces = decimalPlaces < 0 ? -decimalPlaces + precision - 1 : 0;\r\n        return x => prefix + exports.formatNumberThousands(x * 100, decimalPlaces) + suffix;\r\n    };\r\n\r\n    exports.stringToHtml = function (str) {\r\n        var div = document.createElement('div');\r\n        div.appendChild(document.createTextNode(str));\r\n        return div.innerHTML;\r\n    };\r\n\r\n    exports.throttle = function (fn, threshold) {\r\n        var last,\r\n            deferTimer;\r\n        return function () {\r\n            var context = this;\r\n\r\n            var now = Date.now(),\r\n                args = arguments;\r\n            if (last && now < last + threshold) {\r\n                clearTimeout(deferTimer);\r\n                deferTimer = setTimeout(function () {\r\n                    last = now;\r\n                    fn.apply(context, args);\r\n                }, threshold);\r\n            } else {\r\n                last = now;\r\n                fn.apply(context, args);\r\n            }\r\n        };\r\n    }\r\n\r\n})();\r\n"]}